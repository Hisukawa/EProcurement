import{a as s,b as v,j as e,L as h,d as N}from"./app-Bm7zSS5T.js";import{l as p,F as b,T as _}from"./toaster-HWE2mLgi.js";import{N as l,D as c}from"./Dropdown-CsELkn0A.js";import{F as k,a as R}from"./XMarkIcon-CByvwjus.js";import{C as E}from"./clipboard-check-CgyaHCAA.js";import{B as C,P as O}from"./package-check-DdUWGqWo.js";import{T as L}from"./trash-DY1co7mm.js";import{c as g}from"./createLucideIcon-DyDUFioL.js";function M({title:o,titleId:a,...n},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),o?s.createElement("title",{id:a},o):null,s.createElement("path",{d:"M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z"}),s.createElement("path",{fillRule:"evenodd",d:"M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z",clipRule:"evenodd"}))}const S=s.forwardRef(M);function A({title:o,titleId:a,...n},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),o?s.createElement("title",{id:a},o):null,s.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const P=s.forwardRef(A);function D({title:o,titleId:a,...n},t){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),o?s.createElement("title",{id:a},o):null,s.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),s.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const I=s.forwardRef(D);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],F=g("repeat",Z);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],B=g("user-round",$);function T({isSidebarCollapsed:o}){const[a,n]=s.useState(!1);return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{onClick:()=>n(!a),className:"flex items-center justify-between w-full px-2 py-2 hover:bg-indigo-600 hover:text-white rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.jsx(I,{className:"w-5 h-5 text-gray-300 text-sm"}),!o&&e.jsx("span",{className:"text-gray-200 text-sm",children:"Purchase Orders"})]}),!o&&e.jsx(P,{className:`w-5 h-5 text-gray-300 transition-transform ${a?"rotate-180":""}`})]}),a&&e.jsx("nav",{className:"mt-2 pl-10 space-y-1",children:[{label:"Generate PO",routeName:"supply_officer.purchase_orders"},{label:"Manage POs",routeName:"supply_officer.purchase_orders_table"}].map(t=>e.jsx(l,{href:t.routeName?route(t.routeName):"#",active:t.routeName?route().current(t.routeName):!1,className:"block text-sm text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-1 rounded-md",children:t.label},t.label))})]})}function Q({header:o,children:a}){const{user:n}=v().props.auth,[t,y]=s.useState(!1),[w,f]=s.useState(!1),[d,j]=s.useState([]),u=s.useRef(null);s.useEffect(()=>{const r=async()=>{try{const m=await N.get("/notifications");j(m.data)}catch(m){console.error("Notification fetch error:",m)}};r();const i=setInterval(r,1e4);return()=>clearInterval(i)},[]),s.useEffect(()=>{function r(i){u.current&&!u.current.contains(i.target)&&f(!1)}return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const x=d.filter(r=>!r.read).length;return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-100",children:[e.jsxs("div",{className:"md:hidden bg-gray-900 text-white flex items-center justify-between px-4 py-3 shadow-md",children:[e.jsx(h,{href:"/",children:e.jsx("img",{src:p,alt:"Logo",className:"h-10 w-auto"})}),e.jsx("button",{onClick:()=>y(!t),children:t?e.jsx(k,{className:"h-6 w-6"}):e.jsx(R,{className:"h-6 w-6"})})]}),e.jsx("aside",{className:`md:block ${t?"block":"hidden"} md:w-64 w-full bg-gray-900 text-white sticky top-0 h-screen`,children:e.jsxs("div",{className:"p-6",children:[e.jsx(h,{href:"/",children:e.jsx("img",{src:p,alt:"DepEd Logo",className:"h-20 mx-auto mb-4"})}),e.jsx("p",{className:"text-center text-xs text-gray-400 font-mono mb-4",children:"Supply & Property Office"}),e.jsxs("nav",{className:"flex flex-col gap-2",children:[e.jsxs(l,{href:route("supply_officer.dashboard"),active:route().current("supply_officer.dashboard"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(b,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Dashboard"})]}),e.jsx(T,{isSidebarCollapsed:!1}),e.jsxs(l,{href:route("supply_officer.iar_table"),active:route().current("supply_officer.iar_table"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(E,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white text-sm",children:"Inspection and Acceptance Reports"})]}),e.jsxs(l,{href:route("supply_officer.inventory"),active:route().current("supply_officer.inventory"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(C,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Inventory"})]}),e.jsxs(l,{href:route("supply_officer.ris_issuance"),active:["supply_officer.ris_issuance","supply_officer.ics_issuance_low","supply_officer.ics_issuance_high","supply_officer.par_issuance"].some(r=>route().current(r)),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(O,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Item Issuance"})]}),e.jsxs(l,{href:route("supply_officer.disposed_items"),active:route().current("supply_officer.disposed_items"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(L,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Disposal"})]}),e.jsxs(l,{href:route("supply_officer.reissued_items"),active:route().current("supply_officer.reissued_items"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(F,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Reissuance"})]}),e.jsxs(l,{href:route("supply_officer.suppliers"),active:route().current("supply_officer.suppliers"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(B,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Suppliers"})]})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"bg-white shadow px-6 py-4 flex justify-between items-center sticky top-0 z-30",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:o||"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"e-Procurement & Inventory Management System"})]}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>f(r=>!r),className:"relative focus:outline-none",children:[e.jsx(S,{className:"w-6 h-6 text-gray-600 hover:text-gray-800"}),x>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5",children:x})]}),w&&e.jsxs("div",{ref:u,className:"absolute right-0 mt-10 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e.jsx("div",{className:"p-3 font-medium text-gray-700 border-b",children:"Notifications"}),d.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No notifications."}):e.jsx("ul",{className:"max-h-60 overflow-y-auto",children:d.map(r=>{var i;return e.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 text-sm text-gray-800",children:((i=r.data)==null?void 0:i.message)||"New notification"},r.id)})})]}),e.jsxs(c,{children:[e.jsx(c.Trigger,{children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 cursor-pointer",children:[n.firstname," ",n.lastname,e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4-4-4a1 1 0 010-1.414z"})})]})}),e.jsxs(c.Content,{children:[e.jsx(c.Link,{href:route("profile.edit"),children:"Profile"}),e.jsx(c.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})]})]}),e.jsx("main",{className:"p-6 flex-1 overflow-y-auto bg-gray-300",children:a}),e.jsx(_,{})]})]})}export{Q as S};
