import{a as c,j as e,H as Fe,c as C}from"./app-CKujYd7_.js";import{A as Te}from"./ApproverLayout-DHRba1lg.js";import{D as S,a as R,b as P,c as $,d as I,e as O}from"./dialog-BoAiw6q7.js";import{B as d}from"./button-BDytyKvn.js";import{T as te}from"./textarea-BMcLuW6R.js";import{u as Ae}from"./use-toast-Bax0zrdw.js";import{A as De}from"./AOQTabs-COIwPlKE.js";import{c as Ue}from"./createLucideIcon-LguoqwsX.js";import"./Dropdown-CeA5lpHF.js";import"./transition-GwQ5KLRO.js";import"./toaster-BC5ooZuz.js";import"./index-BISxdjyy.js";import"./index-Boi0YpkC.js";import"./utils-zLT5xWck.js";import"./index-DK87wXAm.js";import"./index-6toc2nnT.js";import"./XMarkIcon-CQ1f9l2a.js";import"./file-text-PtfCvhuH.js";import"./index-BRvPMNG7.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Le=Ue("undo-2",ze);function cs({rfq:o,groupedDetails:j={},committee:h}){var je;const p=o.purchase_request,[fe,W]=c.useState(!1),[E,F]=c.useState(""),[T,f]=c.useState({open:!1,type:"success",title:"",description:""}),[N,_e]=c.useState({rfqId:null,supplierId:null,detailId:null}),[ye,A]=c.useState(!1),{toast:y}=Ae(),[x,ve]=c.useState(null),[D,re]=c.useState(""),[m,ae]=c.useState(o.award_mode??"whole-pr"),[H,ke]=c.useState(()=>{const s={};return["secretariat","member1","member2","member3","vice_chair","chair"].forEach(n=>{var a,l;const t=(l=(a=h==null?void 0:h.members)==null?void 0:a.filter(i=>i.position===n))==null?void 0:l.find(i=>i.status==="active");s[n]={name:(t==null?void 0:t.name)||"",status:(t==null?void 0:t.status)||"inactive"}}),{status:(h==null?void 0:h.status)||"draft",members:s}}),[Ne,U]=c.useState(!1),[ie,we]=c.useState(null),[le,V]=c.useState(!1),[ne,K]=c.useState(!1),[ce,de]=c.useState(!1),[z,oe]=c.useState({}),pe=async(s,r)=>{var a,l;const n=`${s}-${r}`,t=parseFloat(w[n]??0);oe(i=>({...i,[n]:!0}));try{const{data:i}=await axios.post(route("bac_user.save_unit_price",{id:o.id}),{supplier_id:s,detail_id:r,unit_price:t});console.log(r),y({title:i.success?"Price Saved":"Save Failed",description:i.message||`Unit price saved: â‚±${t.toLocaleString()}`,variant:i.success?"default":"destructive",duration:3e3}),i.success&&i.total_price_calculated&&(We(s,i.total_price_calculated),C.reload({preserveScroll:!0}))}catch(i){y({title:"Save Failed",description:((l=(a=i.response)==null?void 0:a.data)==null?void 0:l.message)||i.message||"Unable to save unit price",variant:"destructive",duration:3e3})}finally{oe(i=>({...i,[n]:!1}))}},me=(s,r,n=null)=>{we({rfqId:s,supplierId:r,detailId:n}),F(""),U(!0)},Ce=()=>{K(!0);const s={remarks_as_calculated:E,mode:m,...m==="per-item"?{detail_id:ie.detailId}:{}};C.post(route("bac_user.rollback_winner_as_calculated",{id:ie.rfqId}),s,{preserveScroll:!0,onSuccess:()=>{U(!1),K(!1),f({open:!0,type:"success",title:"Rollback Successful",description:"Winner selection has been rolled back."}),y({title:"Rollback Successful",description:"Winner selection has been rolled back.",duration:3e3})},onError:()=>{K(!1),f({open:!0,type:"error",title:"Rollback Failed",description:"Unable to rollback winner. Please try again."})}})},Se=s=>window.open(route("bac_user.print_aoq_calculated",{id:s}),"_blank"),Re=(s,r)=>window.open(route("bac_user.print_aoq",{id:s,pr_detail_id:r}),"_blank"),ue=(s,r,n=null)=>{_e({rfqId:s,supplierId:r,detailId:n}),F(""),W(!0)},Pe=async()=>{var r,n,t;de(!0);const s={supplier_id:N.supplierId,remarks_as_calculated:E,...m==="per-item"?{detail_id:N.detailId}:{},total_price:ee(N.supplierId,(r=G[N.supplierId])==null?void 0:r.total)};try{const a=await axios.post(route("bac_user.mark_winner_as_calculated",{id:N.rfqId}),s);if(a.data.success)W(!1),f({open:!0,type:"success",title:"Winner Marked",description:m==="per-item"?"Supplier has been awarded for the selected item.":"Supplier has been awarded for the entire PR."}),y({title:"Winner Marked",description:m==="per-item"?"Supplier has been awarded for the selected item.":"Supplier has been awarded for the entire PR.",duration:3e3}),C.reload({preserveScroll:!0});else throw new Error(a.data.message||"Unknown error")}catch(a){console.error(a),f({open:!0,type:"error",title:"Failed to Mark Winner",description:((t=(n=a.response)==null?void 0:n.data)==null?void 0:t.message)||"Something went wrong while marking the winner. Please try again."})}finally{de(!1)}},{supplierMap:G,winnerCounts:xe}=c.useMemo(()=>{const s={},r={};return p.details.forEach(n=>{(j[n.id]||[]).forEach(a=>{var u,_,Q;const l=a.supplier.id;if(!s[l]){const k=(_=(u=o.supplier_totals)==null?void 0:u.find(B=>B.supplier_id===l))==null?void 0:_.final_total_price;s[l]={supplier:a.supplier,detailIds:new Set,total:0,final_total_price:k??null},r[l]=0}s[l].detailIds.add(n.id);const i=((Q=p.details.find(k=>k.id===n.id))==null?void 0:Q.quantity)??1,b=parseFloat(a.quoted_price??0)||0;s[l].total+=b*i,a.is_winner_as_calculated&&r[l]++})}),{supplierMap:s,winnerCounts:r}},[p.details,j,o.supplier_totals]),J=p.details.length,g=Object.values(G).filter(s=>s.detailIds.size===J),X=g.length>0;c.useEffect(()=>{!X&&m==="whole-pr"&&ae("per-item")},[X,m]),p.details.some(s=>(j[s.id]||[]).some(r=>r.is_winner_as_calculated));const L=Object.values(xe).some(s=>s===J);p.details.some(s=>(j[s.id]||[]).some(r=>r.is_winner_as_calculated));const[$e,v]=c.useState(!1),[Y,Z]=c.useState(null),[he,M]=c.useState(""),[ge,q]=c.useState(!1),Ie=()=>{q(!0);const s={supplier_id:Y.supplierId,remarks_as_calculated:he,mode:m,...m==="per-item"?{detail_id:Y.detailId}:{}};C.post(route("bac_user.save_remarks_as_calculated",{id:Y.rfqId}),s,{preserveScroll:!0,onSuccess:()=>{q(!1),v(!1),y({title:"Remarks Saved",description:"Supplier remarks updated successfully.",duration:3e3})},onError:()=>{q(!1),y({title:"Save Failed",description:"Could not save remarks. Please try again.",variant:"destructive",duration:3e3})}})};console.log(o);const[Me,Oe]=c.useState({}),We=(s,r)=>{Oe(n=>({...n,[s]:r}))},ee=(s,r)=>{var a;const n=((a=G[s])==null?void 0:a.detailIds)||[];let t=0;return n.forEach(l=>{var k,B;const i=`${s}-${l}`,b=w[i],u=(k=j[l])==null?void 0:k.find(se=>se.supplier.id===s),_=(u==null?void 0:u.unit_price_edited)??(u==null?void 0:u.quoted_price)??0,Q=((B=p.details.find(se=>se.id===l))==null?void 0:B.quantity)??1;t+=parseFloat(b??_)*Q}),t},[w,Ee]=c.useState({}),be=(s,r,n)=>{Ee(t=>({...t,[`${s}-${r}`]:n}))};return e.jsxs(Te,{children:[e.jsx(Fe,{title:`Abstract for ${p.pr_number}`}),e.jsxs("div",{className:"px-8 py-10",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Abstract of Quotations â€“ PR #",p.pr_number]}),e.jsx(De,{pr:p.id}),e.jsx("div",{className:"mb-4 flex justify-between items-center",children:e.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded-md text-sm shadow-sm",children:"â† Back"})}),e.jsx("div",{className:"mb-6 flex gap-4",children:e.jsx(d,{variant:m==="whole-pr"?"default":"outline",onClick:()=>ae("whole-pr"),disabled:!!o.award_mode,children:"Winner for Entire PR"})}),!X&&m==="whole-pr"&&e.jsx("p",{className:"text-sm text-red-600 mb-4",children:"âš ï¸ No supplier quoted for all items. Consider declaring winners per item."}),m==="whole-pr"&&e.jsxs("div",{className:"mb-10 border p-4 rounded-lg bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start p-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Comparison for Entire Purchase Request"}),e.jsxs("div",{className:"text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Focal Person:"})," ",p.focal_person.firstname," ",p.focal_person.lastname]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Division:"})," ",p.division.division]})]}),g.length===1&&e.jsx("p",{className:"mt-2 text-sm text-orange-600 font-medium",children:"âš ï¸ Note: Only one supplier submitted quotes for the entire PR."})]}),L&&e.jsx("button",{onClick:()=>Se(o.id),className:"text-sm text-white bg-green-600 hover:bg-green-700 px-3 py-2 rounded-md h-fit",children:"ðŸ–¨ï¸ Print Abstract as Calculated"})]}),e.jsxs("table",{className:"w-full text-sm border border-gray-300 rounded-lg overflow-hidden shadow",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-4 py-3 text-left font-semibold",children:"Item"}),g.map(s=>e.jsx("th",{className:"border px-4 py-3 text-center font-semibold text-xs w-56",children:s.supplier.company_name},s.supplier.id))]})}),e.jsxs("tbody",{children:[p.details.map((s,r)=>{const n=j[s.id]||[],t=n.filter(l=>g.some(i=>i.supplier.id===l.supplier.id)).map(l=>parseFloat(l.unit_price_edited??l.quoted_price)),a=t.length>0?Math.min(...t):null;return e.jsxs("tr",{className:r%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"border px-4 py-2 font-medium",children:[s.item," ",s.specs]}),g.map(l=>{const i=n.find(_=>_.supplier.id===l.supplier.id),b=i?parseFloat(i.unit_price_edited??i.quoted_price):null,u=b!==null&&a!==null&&b===a;return e.jsx("td",{className:`border px-4 py-2 text-center align-top ${u?"bg-blue-300":""}`,children:i?e.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[e.jsx("input",{type:"number",step:"0.01",className:"w-28 px-2 py-1 border rounded text-right font-semibold",value:w[`${i.supplier.id}-${s.id}`]??b,onChange:_=>be(i.supplier.id,s.id,parseFloat(_.target.value)||0),disabled:L}),e.jsxs("span",{className:"font-semibold",children:[e.jsx("span",{className:"mx-1",children:"x"}),e.jsx("span",{className:"mr-1",children:s.quantity}),e.jsx("span",{children:s.unit})]}),i.unit_price_edited&&i.unit_price_edited!==i.quoted_price?e.jsxs("span",{className:"text-xs text-gray-500 italic",children:["Original/Quoted:"," ",e.jsxs("span",{className:"font-semibold underline",children:["â‚±",parseFloat(i.quoted_price).toLocaleString()]})]}):null,e.jsx(d,{size:"xs",variant:"outline",className:"px-2 py-1 bg-green-600 text-white",onClick:()=>pe(i.supplier.id,s.id),disabled:z[`${i.supplier.id}-${s.id}`]||L,children:z[`${i.supplier.id}-${s.id}`]?"Saving...":"Save"})]}):e.jsx("span",{className:"text-gray-400",children:"â€”"})},l.supplier.id)})]},s.id)}),e.jsxs("tr",{className:"bg-gray-200 font-semibold",children:[e.jsx("td",{className:"border px-4 py-3 text-right",children:"Total Calculated Price "}),g.map(s=>{const r=ee(s.supplier.id,s.total),n=g.map(l=>ee(l.supplier.id,l.total)),t=Math.min(...n),a=r===t;return e.jsx("td",{className:`border px-4 py-3 text-right ${a?"bg-green-200":""}`,children:e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 italic",children:["Quoted Total: â‚±",parseFloat(s.total||0).toLocaleString()]}),e.jsxs("span",{className:`text-xs font-semibold ${a?"text-green-700":"text-blue-600"}`,children:["Calculated Total: â‚±",r.toLocaleString()]})]})},s.supplier.id)})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"border px-4 py-3 text-right font-semibold",children:"Supplier Remarks"}),g.map(s=>{const r=Object.values(j).flat().filter(a=>a.supplier.id===s.supplier.id).map(a=>{var l;return((l=a.remarks_as_calculated)==null?void 0:l.trim())||""}),t=r.length>0&&r.every(a=>a===r[0])&&r.length>0?r[0]||"No remarks":"Varying remarks (edit to unify)";return e.jsx("td",{className:"border px-4 py-3 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-xs text-gray-600 italic",children:t}),e.jsx(d,{size:"xs",variant:"outline",className:"px-2 py-1 bg-blue-500 text-white",onClick:()=>{Z({rfqId:o.id,supplierId:s.supplier.id,detailId:null,currentRemarks:t==="No remarks"||t.includes("Varying")?"":t}),M(t==="No remarks"||t.includes("Varying")?"":t),v(!0)},children:"Edit Remarks"})]})},`remarks-${s.supplier.id}`)})]}),e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("td",{className:"border px-4 py-3 text-right font-semibold",children:"Winner"}),g.map(s=>e.jsx("td",{className:"border px-4 py-3 text-center",children:xe[s.supplier.id]===J?e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"âœ” Winner"}),e.jsxs(d,{size:"sm",variant:"destructive",onClick:()=>me(o.id,s.supplier.id),disabled:!!o.purchase_order,children:[e.jsx(Le,{className:"h-4 w-4"}),"Undo Winner"]})]}):L?"â€”":e.jsx(d,{size:"sm",onClick:()=>ue(o.id,s.supplier.id),children:"Mark as Winner"})},s.supplier.id))]})]})]})]}),m==="per-item"&&e.jsx("div",{className:"space-y-8 mb-10 border p-4 rounded-lg bg-white shadow-sm",children:p.details.map(s=>{const r=j[s.id]||[],n=r.some(t=>t.is_winner_as_calculated);return e.jsxs("div",{className:"border p-4 bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold",children:s.item}),e.jsx("button",{onClick:()=>Re(o.id,s.id),className:"text-sm text-white bg-green-600 hover:bg-green-700 px-3 py-2 rounded-md",children:"ðŸ–¨ï¸ Print AOQ"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx("strong",{children:"Description:"})," ",s.specs||"â€”"," ",e.jsx("br",{}),e.jsx("strong",{children:"Quantity:"})," ",s.quantity," ",s.unit," ",e.jsx("br",{})]}),e.jsxs("table",{className:"w-full text-sm border rounded-lg overflow-hidden shadow",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left w-auto",children:"Item"}),r.map(t=>e.jsx("th",{className:"px-4 py-2 text-center w-56",children:t.supplier.company_name},t.supplier.id))]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border px-4 py-3 font-medium",children:s.item}),r.map(t=>{const a=parseFloat(t.unit_price_edited??t.quoted_price);return e.jsxs("td",{className:"border px-4 py-2 text-center align-top w-56",children:[e.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[e.jsx("input",{type:"number",step:"0.01",className:"w-28 px-2 py-1 border rounded text-right font-semibold",value:w[`${t.supplier.id}-${s.id}`]??a,onChange:l=>be(t.supplier.id,s.id,parseFloat(l.target.value)||0)}),t.unit_price_edited&&t.unit_price_edited!==t.quoted_price&&e.jsxs("span",{className:"text-xs text-gray-500 italic",children:["Original: â‚±",parseFloat(t.quoted_price).toLocaleString()]}),e.jsx(d,{size:"xs",variant:"outline",className:"px-2 py-1 bg-green-500 text-white",onClick:()=>pe(t.supplier.id,s.id),disabled:z[`${t.supplier.id}-${s.id}`],children:z[`${t.supplier.id}-${s.id}`]?"Saving...":"Save"})]}),e.jsxs("div",{className:"text-xs text-gray-600 italic",children:[t.remarks_as_calculated||"No remarks",e.jsx(d,{size:"xs",variant:"outline",className:"ml-2 px-2 py-1 bg-blue-500 text-white",onClick:()=>{Z({rfqId:o.id,supplierId:t.supplier.id,detailId:s.id,currentRemarks:t.remarks_as_calculated||""}),M(t.remarks_as_calculated||""),v(!0)},children:"Edit"})]})]},t.supplier.id)})]}),e.jsxs("tr",{className:"bg-gray-200 font-semibold",children:[e.jsx("td",{className:"border px-4 py-3 text-right",children:"Effective Price"}),r.map(t=>{const a=`${t.supplier.id}-${s.id}`,l=parseFloat(w[a]??t.unit_price_edited??t.quoted_price??0),i=s.quantity??1,b=l*i;return e.jsx("td",{className:"border px-4 py-3 text-right text-green-700",children:e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 italic",children:["(Quoted Price: â‚±",parseFloat(t.quoted_price||0).toLocaleString(),")"]}),e.jsxs("span",{className:"text-xs text-blue-600 font-semibold",children:["Calculated: â‚±",b.toLocaleString()]})]})},t.supplier.id)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 font-medium",children:"Remarks"}),r.map(t=>{var l;const a=((l=t.remarks_as_calculated)==null?void 0:l.trim())||"No remarks";return e.jsx("td",{className:"px-4 py-2 text-center align-top",children:e.jsxs("div",{className:"flex flex-col gap-1 items-center",children:[e.jsx("span",{className:"text-xs text-gray-600 italic",children:a}),e.jsx(d,{size:"xs",variant:"outline",className:"px-2 py-1",onClick:()=>{Z({rfqId:o.id,supplierId:t.supplier.id,detailId:s.id,currentRemarks:a==="No remarks"?"":a}),M(a==="No remarks"?"":a),v(!0)},children:"Edit"})]})},`item-remarks-${t.supplier.id}`)})]}),e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("td",{className:"border px-4 py-3 text-right font-semibold",children:"Winner"}),r.map(t=>e.jsx("td",{className:"border px-4 py-3 text-center",children:t.is_winner_as_calculated?e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"âœ” Winner"}),e.jsx(d,{size:"sm",variant:"destructive",onClick:()=>me(o.id,t.supplier.id,s.id),children:"Rollback"})]}):n?"â€”":e.jsx(d,{size:"sm",onClick:()=>ue(o.id,t.supplier.id,s.id),children:"Mark as Winner"})},t.supplier.id))]})]})]})]},s.id)})}),e.jsxs("div",{className:"mb-8 p-4 border rounded-lg bg-gray-50 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"BAC Committee"}),e.jsx("ul",{className:"space-y-3",children:["chair","vice_chair","secretariat","member1","member2","member3"].map(s=>{const r=H.members[s];return(r==null?void 0:r.status)==="active"&&e.jsxs("li",{className:"flex items-center justify-between bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:r.name||"â€”"}),e.jsx("p",{className:"text-sm text-gray-500",children:s.replace("_"," ").toUpperCase()})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>{ve({position:s,current:r}),re(""),A(!0)},children:"Replace"})]},s)})})]})]}),e.jsx(S,{open:fe,onOpenChange:W,children:e.jsxs(R,{children:[e.jsxs(P,{children:[e.jsx($,{children:"Confirm Winner"}),e.jsx(I,{children:"Provide remarks for awarding this supplier."})]}),e.jsx(te,{value:E,onChange:s=>F(s.target.value)}),e.jsxs(O,{children:[e.jsx(d,{variant:"secondary",onClick:()=>W(!1),children:"Cancel"}),e.jsx(d,{disabled:ce,onClick:Pe,children:ce?"Confirming Winner...":"Confirm"})]})]})}),e.jsx(S,{open:ye,onOpenChange:A,children:e.jsxs(R,{className:"sm:max-w-md",children:[e.jsxs(P,{children:[e.jsx($,{children:"Replace Committee Member"}),e.jsxs(I,{children:["Enter a new member to replace"," ",e.jsx("strong",{children:((je=x==null?void 0:x.current)==null?void 0:je.name)||"N/A"})," (",x==null?void 0:x.position.replace("_"," ").toUpperCase(),")."]})]}),e.jsx("input",{type:"text",value:D,onChange:s=>re(s.target.value),placeholder:"Enter new member name",className:"w-full border px-3 py-2 rounded mb-2"}),e.jsxs(O,{className:"mt-4",children:[e.jsx(d,{variant:"secondary",onClick:()=>A(!1),children:"Cancel"}),e.jsx(d,{disabled:le,onClick:()=>{if(!D.trim())return;V(!0),ke(r=>({...r,members:{...r.members,[x.position]:{name:D.trim(),status:"active"}}}));const s={id:(h==null?void 0:h.id)??null,status:H.status,members:Object.entries({...H.members,[x.position]:{name:D.trim(),status:"active"}}).map(([r,n])=>({position:r,name:n.name,status:n.status}))};C.post(route("bac.committee.save"),s,{preserveScroll:!0,onSuccess:()=>{V(!1),A(!1),f({open:!0,type:"success",title:"Committee Updated",description:`${x.position.replace("_"," ")} replaced successfully.`}),y({title:"Committee Updated",description:`${x.position.replace("_"," ")} replaced successfully.`,duration:3e3})},onError:()=>{V(!1),f({open:!0,type:"error",title:"Committee Update Failed",description:"Unable to replace committee member. Please try again."})}})},children:le?"Saving...":"Confirm"})]})]})}),e.jsx(S,{open:Ne,onOpenChange:U,children:e.jsxs(R,{children:[e.jsxs(P,{children:[e.jsx($,{children:"Rollback Winner"}),e.jsx(I,{children:"Provide remarks for rolling back this winner selection."})]}),e.jsx(te,{value:E,onChange:s=>F(s.target.value)}),e.jsxs(O,{children:[e.jsx(d,{variant:"secondary",onClick:()=>U(!1),children:"Cancel"}),e.jsx(d,{disabled:ne,variant:"destructive",onClick:Ce,children:ne?"Rolling Back Winner...":"Confirm Rollback"})]})]})}),e.jsx(S,{open:T.open,onOpenChange:s=>f(r=>({...r,open:s})),children:e.jsxs(R,{children:[e.jsxs(P,{children:[e.jsx($,{className:T.type==="error"?"text-red-600":"text-green-600",children:T.title}),e.jsx(I,{children:T.description})]}),e.jsx(O,{children:e.jsx(d,{onClick:()=>f(s=>({...s,open:!1})),children:"Close"})})]})}),e.jsx(S,{open:$e,onOpenChange:v,children:e.jsxs(R,{children:[e.jsxs(P,{children:[e.jsx($,{children:"Edit Supplier Remarks"}),e.jsxs(I,{children:["Enter remarks for this supplier ",m==="per-item"?"on this item":"for the PR","."]})]}),e.jsx(te,{value:he,onChange:s=>M(s.target.value)}),e.jsxs(O,{children:[e.jsx(d,{variant:"secondary",onClick:()=>v(!1),children:"Cancel"}),e.jsx(d,{disabled:ge,onClick:Ie,children:ge?"Saving...":"Save"})]})]})})]})}export{cs as default};
