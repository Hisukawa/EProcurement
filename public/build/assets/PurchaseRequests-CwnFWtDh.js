import{r as s,b as c,j as t,H as p}from"./app-zVUDkyzP.js";import{T as h}from"./Tooltip-CZd3Z6l2.js";import{A as g}from"./ApproverLayout-qR23ynfN.js";import"./Dropdown-zT0pG-PO.js";import"./transition-DqO-TKob.js";import"./toaster-D8SHsd9C.js";import"./use-toast-SfBWm5Kp.js";import"./index-B_sYnd9c.js";import"./index-DtDLCPOc.js";import"./createLucideIcon-B0te037c.js";import"./index-Dzx9dIXH.js";import"./index-CG4CbV8-.js";import"./XMarkIcon-CiGnVPuc.js";import"./ClipboardDocumentIcon-BqEH_Tgv.js";import"./clipboard-check-DUrY4GM2.js";import"./circle-check-big-BbEj1EZg.js";import"./file-text-BqCg1eio.js";import"./BellAlertIcon-Dm10OwNq.js";function A({purchaseRequests:r,filters:a={}}){const[o,m]=s.useState(a.prNumber||""),[i,x]=s.useState(a.focalPerson||""),[l,u]=s.useState(a.division||"");return s.useEffect(()=>{const e=setTimeout(()=>{c.get(route("bac_approver.purchase_requests"),{prNumber:o,focalPerson:i,division:l},{preserveState:!0,preserveScroll:!0,replace:!0})},400);return()=>clearTimeout(e)},[o,i,l]),t.jsxs(g,{header:"Schools Division Office - Ilagan | Purchase Requests",children:[t.jsx(p,{title:"Purchase Requests"}),t.jsxs("div",{className:"bg-white rounded-lg p-6 shadow space-y-6",children:[t.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Purchase Requests"}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[t.jsx("input",{type:"text",value:o,onChange:e=>m(e.target.value),placeholder:"Search PR Number...",className:"rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm w-60"}),t.jsx("input",{type:"text",value:i,onChange:e=>x(e.target.value),placeholder:"Search Focal Person...",className:"rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm w-60"}),t.jsxs("select",{value:l,onChange:e=>u(e.target.value),className:"rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm w-44",children:[t.jsx("option",{value:"",children:"All Divisions"}),t.jsx("option",{value:"1",children:"SGOD"}),t.jsx("option",{value:"2",children:"OSDS"}),t.jsx("option",{value:"3",children:"CID"})]})]}),r.data.length===0?t.jsx("p",{className:"text-center text-gray-500 py-12 text-lg font-medium",children:"No Purchase Requests found."}):t.jsxs("div",{className:"overflow-x-auto rounded-md border border-gray-200 shadow-sm bg-white",children:[t.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[t.jsx("thead",{className:"bg-gray-100 text-gray-700",children:t.jsx("tr",{children:["PR Number","Focal Person","Division","Requested By","Status","Items Summary"].map(e=>t.jsx("th",{className:"px-6 py-3 text-center font-semibold uppercase tracking-wider text-xs",children:e},e))})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.data.map(e=>t.jsxs("tr",{className:"text-center hover:bg-indigo-50 transition",children:[t.jsx("td",{className:"px-6 py-4 text-gray-800",children:t.jsx(h,{to:route("bac_approver.show_details",e.id),tooltip:"View PR details",className:"hover:underline focus:underline",children:e.pr_number})}),t.jsx("td",{className:"px-6 py-4 text-gray-800",children:[e.focal_person.firstname,e.focal_person.middlename,e.focal_person.lastname].filter(Boolean).join(" ")}),t.jsx("td",{className:"px-6 py-4 text-gray-800",children:e.division.division}),t.jsx("td",{className:"px-6 py-4 text-gray-700",children:e.requested_by}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${e.status.toLowerCase()==="approved"?"bg-green-100 text-green-800":e.status.toLowerCase()==="pending"?"bg-yellow-100 text-yellow-800":e.status.toLowerCase()==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:e.status})}),t.jsx("td",{className:"px-6 py-4 text-gray-700 text-left",children:e.details.length>0?e.details.map((d,n)=>t.jsxs("div",{className:"italic",children:[d.item," ",e.details.length>1&&n===0?`and ${e.details.length-1} more...`:""]},n)):"No items"})]},e.id))})]}),t.jsx("div",{className:"flex justify-center items-center gap-2 my-6 flex-wrap",children:r.links.map((e,d)=>t.jsx("button",{disabled:!e.url,onClick:()=>e.url&&c.visit(e.url,{preserveScroll:!0,preserveState:!0}),className:`px-4 py-2 text-sm rounded-md border transition ${e.active?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-700 hover:bg-gray-100 border-gray-300"} ${!e.url&&"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:e.label}},d))})]})]})]})}export{A as default};
