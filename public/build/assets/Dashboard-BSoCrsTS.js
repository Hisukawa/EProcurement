import{r as l,a as Ne,j as i,H as Ie,L as we}from"./app-DIwoxpaE.js";import{R as Ee}from"./RequesterLayout-CbzIyOHb.js";import{C as T,c as K}from"./card-DBnrDqai.js";import{F as Oe}from"./file-plus-2-D6O5EBgU.js";import{u as Ce,G as De,S as Le,C as Se,a as ke,H as Re,b as _e,X as Te,Y as Ke}from"./CartesianChart-Csp0PHqb.js";import{C as We}from"./circle-check-Bz-UFImh.js";import{C as Be}from"./clipboard-list-SAmvP0BE.js";import{aJ as te,A as ae,j as re,s as Fe,aK as $e,a as W,q as S,L as F,F as $,N as ne,K as ie,M as se,O as Ve,Q as Ge,aL as ze,P as X,r as le,u as oe,R as Me,b as He,c as Xe,d as Ye,G as qe,e as ce,ab as Je,f as Ue,aM as de,k as ue,aN as Y,w as Qe,J as Ze,x as O,y as et,z as tt,aO as at,a1 as rt,a2 as q,a3 as J,a5 as nt,a6 as it,C as st}from"./PieChart-BpxUtmRN.js";import{a as V}from"./index-COOQ74f6.js";import"./Dropdown-BMMSVb61.js";import"./transition-DVuHuDAs.js";import"./toaster-D1ZsEoEm.js";import"./use-toast-D792B5D_.js";import"./index-YfQ8JO5P.js";import"./index-bwz3em9E.js";import"./createLucideIcon-CwZjMAiL.js";import"./index-1vRbBC7m.js";import"./XMarkIcon-4qo16GRs.js";import"./BellAlertIcon-BcBia_ua.js";import"./with-selector-DPf02j6F.js";import"./index-DjLDshik.js";function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},B.apply(null,arguments)}var pe=e=>{var{cx:t,cy:a,r,className:n}=e,o=V("recharts-dot",n);return t===+t&&a===+a&&r===+r?l.createElement("circle",B({},ae(e),te(e),{className:o,cx:t,cy:a,r})):null};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?U(Object(a),!0).forEach(function(r){lt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function lt(e,t,a){return(t=ot(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ot(e){var t=ct(e,"string");return typeof t=="symbol"?t:t+""}function ct(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dt=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:n,dataKey:o}=e;if(n===!1||t.x==null||t.y==null)return null;var s=Q(Q({index:a,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},S(n,!1)),te(n)),c;return l.isValidElement(n)?c=l.cloneElement(n,s):typeof n=="function"?c=n(s):c=l.createElement(pe,s),l.createElement(F,{className:"recharts-active-dot"},c)};function ut(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:n}=e,o=re(Fe),s=$e();if(t==null||s==null)return null;var c=t.find(d=>s.includes(d.payload));return W(c)?null:dt({point:c,childIndex:Number(o),mainColor:a,dataKey:n,activeDot:r})}var me=(e,t,a,r)=>ie(e,"xAxis",t,r),he=(e,t,a,r)=>se(e,"xAxis",t,r),fe=(e,t,a,r)=>ie(e,"yAxis",a,r),ve=(e,t,a,r)=>se(e,"yAxis",a,r),pt=$([ne,me,fe,he,ve],(e,t,a,r,n)=>ze(e,"xAxis")?X(t,r,!1):X(a,n,!1)),mt=(e,t,a,r,n)=>n;function ht(e){return e.type==="line"}var ft=$([Ge,mt],(e,t)=>e.filter(ht).find(a=>a.id===t)),vt=$([ne,me,fe,he,ve,ft,pt,Ve],(e,t,a,r,n,o,s,c)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:m}=c;if(!(o==null||t==null||a==null||r==null||n==null||r.length===0||n.length===0||s==null)){var{dataKey:u,data:v}=o,h;if(v!=null&&v.length>0?h=v:h=d==null?void 0:d.slice(p,m+1),h!=null)return Wt({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataKey:u,bandSize:s,displayedData:h})}}),xt=["id"],yt=["type","layout","connectNulls","needClip"],gt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Z(Object(a),!0).forEach(function(r){bt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bt(e,t,a){return(t=Pt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pt(e){var t=jt(e,"string");return typeof t=="symbol"?t:t+""}function jt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G(e,t){if(e==null)return{};var a,r,n=At(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function At(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},w.apply(null,arguments)}var Nt=e=>{var{dataKey:t,name:a,stroke:r,legendType:n,hide:o}=e;return[{inactive:o,dataKey:t,type:n,color:r,value:ce(a,t),payload:e}]};function It(e){var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:o,name:s,hide:c,unit:d}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:o,dataKey:t,nameKey:void 0,name:ce(s,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var xe=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function wt(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],n=0;n<t;++n)r=[...r,...a];return r}var Et=(e,t,a)=>{var r=a.reduce((u,v)=>u+v);if(!r)return xe(t,e);for(var n=Math.floor(e/r),o=e%r,s=t-e,c=[],d=0,p=0;d<a.length;p+=a[d],++d)if(p+a[d]>o){c=[...a.slice(0,d),o-p];break}var m=c.length%2===0?[0,s]:[s];return[...wt(a,n),...c,...m].map(u=>"".concat(u,"px")).join(", ")};function Ot(e,t){var a;if(l.isValidElement(e))a=l.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=V("recharts-line-dot",typeof e!="boolean"?e.className:"");a=l.createElement(pe,w({},t,{className:r}))}return a}function Ct(e,t){return e==null?!1:t?!0:e.length===1}function Dt(e){var{clipPathId:t,points:a,props:r}=e,{dot:n,dataKey:o,needClip:s}=r;if(!Ct(a,n))return null;var{id:c}=r,d=G(r,xt),p=de(n),m=ae(d),u=S(n,!0),v=a.map((x,f)=>{var P=y(y(y({key:"dot-".concat(f),r:3},m),u),{},{index:f,cx:x.x,cy:x.y,dataKey:o,value:x.value,payload:x.payload,points:a});return Ot(n,P)}),h={clipPath:s?"url(#clipPath-".concat(p?"":"dots-").concat(t,")"):void 0};return l.createElement(F,w({className:"recharts-line-dots",key:"dots"},h),v)}function Lt(e){var{showLabels:t,children:a,points:r}=e,n=l.useMemo(()=>r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:0,height:0};return y(y({},s),{},{value:o.value,payload:o.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[r]);return l.createElement(tt,{value:t?n:null},a)}function ee(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:n,props:o}=e,{type:s,layout:c,connectNulls:d,needClip:p}=o,m=G(o,yt),u=y(y({},S(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:c,connectNulls:d,strokeDasharray:n??o.strokeDasharray});return l.createElement(l.Fragment,null,(r==null?void 0:r.length)>1&&l.createElement(at,w({},u,{pathRef:a})),l.createElement(Dt,{points:r,clipPathId:t,props:o}))}function St(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function kt(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:n,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:c,isAnimationActive:d,animationBegin:p,animationDuration:m,animationEasing:u,animateNewValues:v,width:h,height:x,onAnimationEnd:f,onAnimationStart:P}=a,A=n.current,N=Qe(a,"recharts-line-"),[b,C]=l.useState(!1),D=!b,k=l.useCallback(()=>{typeof f=="function"&&f(),C(!1)},[f]),R=l.useCallback(()=>{typeof P=="function"&&P(),C(!0)},[P]),I=St(r.current),L=o.current;return l.createElement(Lt,{points:s,showLabels:D},a.children,l.createElement(Ze,{animationId:N,begin:p,duration:m,isActive:d,easing:u,onAnimationEnd:k,onAnimationStart:R,key:N},j=>{var be=O(L,I+L,j),_=Math.min(be,I),E;if(d)if(c){var Pe="".concat(c).split(/[,\s]+/gim).map(g=>parseFloat(g));E=Et(_,I,Pe)}else E=xe(I,_);else E=c==null?void 0:String(c);if(A){var je=A.length/s.length,z=j===1?s:s.map((g,Ae)=>{var M=Math.floor(Ae*je);if(A[M]){var H=A[M];return y(y({},g),{},{x:O(H.x,g.x,j),y:O(H.y,g.y,j)})}return v?y(y({},g),{},{x:O(h*2,g.x,j),y:O(x/2,g.y,j)}):y(y({},g),{},{x:g.x,y:g.y})});return n.current=z,l.createElement(ee,{props:a,points:z,clipPathId:t,pathRef:r,strokeDasharray:E})}return j>0&&I>0&&(n.current=s,o.current=_),l.createElement(ee,{props:a,points:s,clipPathId:t,pathRef:r,strokeDasharray:E})}),l.createElement(et,{label:a.label}))}function Rt(e){var{clipPathId:t,props:a}=e,r=l.useRef(null),n=l.useRef(0),o=l.useRef(null);return l.createElement(kt,{props:a,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:n,pathRef:o})}var _t=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ue(e.payload,t)});class Tt extends l.Component{render(){var t,{hide:a,dot:r,points:n,className:o,xAxisId:s,yAxisId:c,top:d,left:p,width:m,height:u,id:v,needClip:h}=this.props;if(a)return null;var x=V("recharts-line",o),f=v,{r:P=3,strokeWidth:A=2}=(t=S(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},N=de(r),b=P*2+A;return l.createElement(l.Fragment,null,l.createElement(F,{className:x},h&&l.createElement("defs",null,l.createElement(De,{clipPathId:f,xAxisId:s,yAxisId:c}),!N&&l.createElement("clipPath",{id:"clipPath-dots-".concat(f)},l.createElement("rect",{x:p-b/2,y:d-b/2,width:m+b,height:u+b}))),l.createElement(Le,{xAxisId:s,yAxisId:c,data:n,dataPointFormatter:_t,errorBarOffset:0},l.createElement(Rt,{props:this.props,clipPathId:f}))),l.createElement(ut,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ye={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qe.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Kt(e){var t=le(e,ye),{activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:o,animationEasing:s,connectNulls:c,dot:d,hide:p,isAnimationActive:m,label:u,legendType:v,xAxisId:h,yAxisId:x,id:f}=t,P=G(t,gt),{needClip:A}=Ce(h,x),N=Je(),b=Ue(),C=oe(),D=re(j=>vt(j,h,x,C,f));if(b!=="horizontal"&&b!=="vertical"||D==null||N==null)return null;var{height:k,width:R,x:I,y:L}=N;return l.createElement(Tt,w({},P,{id:f,connectNulls:c,dot:d,activeDot:a,animateNewValues:r,animationBegin:n,animationDuration:o,animationEasing:s,isAnimationActive:m,hide:p,label:u,legendType:v,xAxisId:h,yAxisId:x,points:D,layout:b,height:k,width:R,left:I,top:L,needClip:A}))}function Wt(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:n,yAxisTicks:o,dataKey:s,bandSize:c,displayedData:d}=e;return d.map((p,m)=>{var u=ue(p,s);if(t==="horizontal"){var v=Y({axis:a,ticks:n,bandSize:c,entry:p,index:m}),h=W(u)?null:r.scale(u);return{x:v,y:h,value:u,payload:p}}var x=W(u)?null:a.scale(u),f=Y({axis:r,ticks:o,bandSize:c,entry:p,index:m});return x==null||f==null?null:{x,y:f,value:u,payload:p}}).filter(Boolean)}function Bt(e){var t=le(e,ye),a=oe();return l.createElement(Me,{id:t.id,type:"line"},r=>l.createElement(l.Fragment,null,l.createElement(He,{legendPayload:Nt(t)}),l.createElement(Xe,{fn:It,args:t}),l.createElement(Ye,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),l.createElement(Kt,w({},t,{id:r}))))}var ge=l.memo(Bt);ge.displayName="Line";var Ft=["axis"],$t=l.forwardRef((e,t)=>l.createElement(Se,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ft,tooltipPayloadSearcher:rt,categoricalChartProps:e,ref:t}));function ca({stats:e,trendData:t,statusData:a,recentRequests:r}){const n={ClipboardList:Be,CheckCircle2:We,Hourglass:Re,XCircle:ke},{auth:o}=Ne().props;return i.jsxs(Ee,{header:"Schools Division Office - Ilagan | Dashboard",children:[i.jsx(Ie,{title:"Dashboard"}),i.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 mb-6",children:[i.jsxs("h1",{className:"text-2xl font-semibold text-gray-800",children:["Welcome back, ",o.user.firstname,"!"]}),i.jsx("p",{className:"text-gray-600",children:"Here’s an overview of your purchase requests."})]}),i.jsx("div",{className:"mb-8",children:i.jsxs(we,{href:route("requester.create"),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-2xl shadow hover:bg-blue-700",children:[i.jsx(Oe,{className:"w-5 h-5"}),"Create New Purchase Request"]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((s,c)=>{const d=n[s.icon];return i.jsx(T,{className:"rounded-2xl shadow hover:shadow-md transition",children:i.jsxs(K,{className:"flex items-center gap-4 p-4",children:[i.jsx("div",{className:`p-3 rounded-xl ${s.color}`,children:i.jsx(d,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:s.label}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:s.value})]})]})},c)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsx(T,{className:"rounded-2xl shadow",children:i.jsxs(K,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Requests Over Time"}),i.jsx(q,{width:"100%",height:250,children:i.jsxs($t,{data:t,children:[i.jsx(_e,{strokeDasharray:"3 3"}),i.jsx(Te,{dataKey:"month"}),i.jsx(Ke,{}),i.jsx(J,{}),i.jsx(ge,{type:"monotone",dataKey:"requests",stroke:"#2563eb",strokeWidth:3,dot:{r:5},label:!0})]})})]})}),i.jsx(T,{className:"rounded-2xl shadow",children:i.jsxs(K,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Status Breakdown"}),i.jsx(q,{width:"100%",height:250,children:i.jsxs(nt,{children:[i.jsx(it,{data:a,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",label:({name:s,value:c})=>`${s}: ${c}`,children:a.map((s,c)=>i.jsx(st,{fill:s.color},`cell-${c}`))}),i.jsx(J,{})]})}),i.jsx("div",{className:"flex justify-center gap-6 mt-4",children:a.map((s,c)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),i.jsx("span",{className:"text-sm text-gray-600",children:s.name})]},c))})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Requests"}),i.jsxs("table",{className:"w-full text-sm text-left text-gray-600",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"px-4 py-2",children:"PR ID"}),i.jsx("th",{className:"px-4 py-2",children:"Item"}),i.jsx("th",{className:"px-4 py-2",children:"Status"}),i.jsx("th",{className:"px-4 py-2",children:"Date"})]})}),i.jsx("tbody",{children:r.map((s,c)=>i.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 font-medium text-gray-800",children:s.pr_number}),i.jsx("td",{className:"px-4 py-2",children:s.items}),i.jsx("td",{className:"px-4 py-2",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium
                                            ${s.status==="Approved"?"bg-green-100 text-green-600":s.status==="Pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}
                                        `,children:s.status})}),i.jsx("td",{className:"px-4 py-2",children:s.date})]},c))})]})]})]})}export{ca as default};
