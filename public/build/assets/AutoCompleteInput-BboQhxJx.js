import{r as o,j as t}from"./app-z2zUCIH2.js";function p({label:d,apiRoute:n,value:h,onChange:g,placeholder:m}){const[s,l]=o.useState(h||""),[u,a]=o.useState([]),[i,c]=o.useState(!1);o.useEffect(()=>{if(!s||s.length<2){a([]);return}const e=setTimeout(()=>{fetch(`${n}?q=${s}`).then(r=>r.json()).then(r=>a(r)).catch(()=>a([]))},300);return()=>clearTimeout(e)},[s,n]);const x=e=>{l(e.name||e.code||e),g(e),c(!1)};return t.jsxs("div",{className:"relative",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d}),t.jsx("input",{type:"text",value:s,onChange:e=>{l(e.target.value),c(!0)},placeholder:m,className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-white"}),i&&u.length>0&&t.jsx("ul",{className:"absolute z-10 bg-white border border-gray-300 rounded-md mt-1 w-full max-h-40 overflow-y-auto shadow",children:u.map(e=>t.jsx("li",{onClick:()=>x(e),className:"px-3 py-2 hover:bg-blue-100 cursor-pointer",children:e.code?`${e.code} - ${e.name}`:e.name},e.id))})]})}export{p as default};
