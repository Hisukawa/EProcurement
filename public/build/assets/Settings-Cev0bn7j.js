import{a as A,r as i,j as e,H as L,b as u}from"./app-D3NzBgRO.js";import{A as P}from"./AdminLayout-BX6valZX.js";import{D as b,a as w,b as E,c as _,d as k,e as D}from"./dialog-CCQ3M8yy.js";import{B as l}from"./button-CdzcHS3X.js";import{C as f,a as g,b as j,c as N}from"./card-Du-SfODc.js";import{I as F}from"./input-C5-fpOo8.js";import{u as R}from"./toaster-Dr1dFrOI.js";import{B as z}from"./building-2-DnUou85a.js";import{c as G}from"./index-CbOhMk15.js";import{C as J}from"./clipboard-list-DZc_5k44.js";import"./Dropdown-DIPhf4Q5.js";import"./transition-K1sFJhZS.js";import"./users-AHETZq6Q.js";import"./ClipboardDocumentIcon-BVAgHJPf.js";import"./index-BURmFptD.js";import"./index-CzZBlPTW.js";import"./index-CRtz_FGu.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Q=G("users-round",K);function me({divisions:o,inspectionCommittees:d,bacCommittees:m}){var C;const{props:O}=A(),n=(C=O.flash)==null?void 0:C.success,{toast:q}=R(),[B,x]=i.useState(!1),[T,c]=i.useState(!1),[t,y]=i.useState(null),[r,v]=i.useState(""),[a,h]=i.useState({name:""});i.useEffect(()=>{n&&x(!0)},[n]);const S=(s,p)=>{y(s),v(p),h({name:s.name,position:s.role}),c(!0)},I=()=>{t&&(r==="inspection"?u.post(route("admin.update_inspection",{committee:t.committee_id??1}),{members:[{name:a.name,position:a.position}]},{preserveScroll:!0}):r==="bac"?u.post(route("admin.update_bac",{committee:t.committee_id??1}),{members:[{name:a.name,position:a.position}]},{preserveScroll:!0}):r==="requesting"&&u.post(route("admin.update_requesting",{division:t.id}),{name:a.name},{preserveScroll:!0}),c(!1))};i.useEffect(()=>{n&&(q({title:"✅ Success",description:n}),x(!0))},[n]);const U=o!=null&&o.length?o:[],H=d!=null&&d.length?d:[],M=m!=null&&m.length?m:[];return e.jsxs(P,{header:"⚙️ System Settings",children:[e.jsx(L,{title:"Settings"}),e.jsxs("div",{className:"max-w-6xl mx-auto mt-6 space-y-12",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"System Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage configurations for divisions, inspection team, and committees."})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-blue-700 flex items-center gap-2 mb-4",children:[e.jsx(z,{className:"w-5 h-5"}),"Divisions"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(s=>e.jsxs(f,{className:"hover:shadow-lg transition",children:[e.jsx(g,{children:e.jsx(j,{className:"text-blue-600",children:s.division})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Officer"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.active_officer?s.active_officer.name:"No active officer"}),e.jsx(l,{variant:"outline",className:"mt-4 w-full",onClick:()=>{var p;y(s),v("requesting"),h({name:((p=s.active_officer)==null?void 0:p.name)||""}),c(!0)},children:"Update Officer"})]})]},s.id))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-green-700 flex items-center gap-2 mb-4",children:[e.jsx(Q,{className:"w-5 h-5"}),"Inspection Team"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(s=>e.jsxs(f,{className:"hover:shadow-lg transition",children:[e.jsx(g,{children:e.jsx(j,{className:"text-green-600",children:s.position})}),e.jsxs(N,{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx(l,{variant:"outline",className:"mt-4 w-full",onClick:()=>S(s,"inspection"),children:"Edit"})]})]},s.id))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-purple-700 flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-5 h-5"}),"BAC Committee"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(s=>e.jsxs(f,{className:"hover:shadow-lg transition",children:[e.jsx(g,{children:e.jsx(j,{className:"text-purple-600",children:s.position})}),e.jsxs(N,{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx(l,{variant:"outline",className:"mt-4 w-full",onClick:()=>S(s,"bac"),children:"Edit"})]})]},s.id))})]})]}),e.jsx(b,{open:B,onOpenChange:x,children:e.jsxs(w,{children:[e.jsxs(E,{children:[e.jsx(_,{children:"✅ Success"}),e.jsx(k,{children:n})]}),e.jsx(D,{children:e.jsx(l,{onClick:()=>x(!1),children:"Close"})})]})}),e.jsx(b,{open:T,onOpenChange:c,children:e.jsxs(w,{children:[e.jsxs(E,{children:[e.jsx(_,{children:r==="requesting"?"Update Officer":"Edit Committee Member"}),e.jsx(k,{children:r==="requesting"?"Update the requisitioning officer for this division.":"Update the committee member’s name below."})]}),e.jsxs("div",{className:"space-y-4",children:[r!=="requesting"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Position"}),e.jsx("p",{className:"font-medium text-gray-800",children:t==null?void 0:t.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(F,{value:a.name,onChange:s=>h({...a,name:s.target.value})})]})]}),e.jsxs(D,{children:[e.jsx(l,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(l,{onClick:I,children:"Save Changes"})]})]})})]})}export{me as default};
