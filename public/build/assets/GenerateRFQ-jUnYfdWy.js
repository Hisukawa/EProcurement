import{r as o,j as e,$ as d}from"./app-CdT6Inq3.js";import{A as n}from"./ApproverLayout-Ca6489gy.js";import{S as l}from"./scroll-text-DAmxsLuw.js";import{F as c}from"./file-plus-2-Cjc9wMUN.js";import"./Dropdown-C0LNKoiI.js";import"./transition-CK0hpB_q.js";import"./toaster-CuJZEvbt.js";import"./index-BMneL5eD.js";import"./index-10TgiLhN.js";import"./index-BiygnIGx.js";import"./XMarkIcon-BoC-vdCd.js";import"./ClipboardDocumentIcon-f6-CS6SY.js";import"./clipboard-check-DmtwyTCG.js";import"./circle-check-big-BUimBozv.js";import"./file-text-Cu8eUtAQ.js";import"./BellAlertIcon-7u2kdnVf.js";function q({pr:s,purchaseRequest:t}){return console.log(s.id),o.useEffect(()=>{console.log("Full Purchase Request Prop:",JSON.stringify(s,null,2))},[s]),e.jsxs(n,{header:"Schools Divisions Office - Ilagan | Request for Quotation",children:[e.jsx(d,{title:"Request for Quotation"}),e.jsxs("div",{className:"mx-auto px-6 py-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(l,{className:"w-7 h-7 text-indigo-700"}),"Generate Request for Quotation (RFQ)"]})}),e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-4 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded-md text-sm shadow-sm",children:"‚Üê Back"})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl-col-span-1 bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[e.jsx(c,{className:"w-5 h-5 text-indigo-600"}),"Purchase Request Info"]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"PR Number:"})," ",s.pr_number]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purpose:"})," ",s.purpose||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Requested By:"})," ",s.requester_name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Division:"})," ",s.division||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date Created:"})," ",new Date(s.created_at).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Focal Person:"})," ",t.focal_person?`${t.focal_person.firstname} ${t.focal_person.middlename||""} ${t.focal_person.lastname||""}`:"N/A"]}),s.approval_image&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-medium text-sm mb-1",children:"Approval Image:"}),e.jsx("img",{src:`/storage/${s.approval_image}`,alt:"Approval",className:"rounded-md shadow max-h-96 border"})]})]})]}),e.jsx("div",{className:"xl:col-span-2 space-y-8",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2 border-b pb-2",children:[e.jsx(l,{className:"w-5 h-5 text-indigo-600"}),"Purchase Request Items"]}),e.jsx("button",{onClick:()=>window.open(route("bac_approver.print_rfq",s.id),"_blank"),className:"text-sm text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-md shadow-sm mb-4",children:"üñ®Ô∏è Print All Items"}),s.details&&s.details.length>0?e.jsxs("table",{className:"min-w-full text-sm text-gray-700 border",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-2 px-4 border",children:"Item Name"}),e.jsx("th",{className:"py-2 px-4 border",children:"Specs"}),e.jsx("th",{className:"py-2 px-4 border",children:"Quantity"}),e.jsx("th",{className:"py-2 px-4 border",children:"Unit"}),e.jsx("th",{className:"py-2 px-4 border",children:"Estimated Price (‚Ç±)"}),e.jsx("th",{className:"py-2 px-4 border",children:"Actions"})]})}),e.jsx("tbody",{children:s.details.map(r=>{var a,i;return e.jsxs("tr",{className:"hover:bg-indigo-50",children:[e.jsx("td",{className:"py-2 px-4 border",children:((a=r.product)==null?void 0:a.name)||"N/A"}),e.jsx("td",{className:"py-2 px-4 border",children:((i=r.product)==null?void 0:i.specs)||"N/A"}),e.jsx("td",{className:"py-2 px-4 border",children:r.quantity}),e.jsx("td",{className:"py-2 px-4 border",children:r.unit}),e.jsx("td",{className:"py-2 px-4 border",children:`‚Ç±${Number(r.unit_price||0).toLocaleString(void 0,{minimumFractionDigits:2})}`}),e.jsx("td",{className:"py-2 px-4 border",children:e.jsx("button",{onClick:()=>window.open(route("bac_approver.print_rfq_per_item",{rfq:s.id,detail:r.id}),"_blank"),className:"text-sm text-white bg-green-600 hover:bg-green-700 px-3 py-1 rounded-md",children:"üñ®Ô∏è Print"})})]},r.id)})})]}):e.jsx("div",{className:"text-center py-6 text-gray-400 italic",children:"No items found in this PR."})]})})]})]})]})}export{q as default};
