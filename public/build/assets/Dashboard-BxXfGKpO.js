import{j as e,H as f}from"./app-Cs1McY02.js";import{T as u}from"./TwgUserLayout-CjN7nVC2.js";import{C as d,c as t,a as c,b as o}from"./card-C7E_JHKq.js";import{L as y,F as b}from"./layers-jxheczHb.js";import{C as v}from"./clipboard-list-tVjtiuv9.js";import{T as w}from"./triangle-alert-BX6USvdj.js";import{R as x,X as n,Y as m,T as h}from"./CartesianChart-ifTcgtw_.js";import{L as C,a as T}from"./LineChart-DQzsbN9R.js";import{C as p}from"./CartesianGrid-By_jSoqf.js";import{B as k,a as L}from"./BarChart-x9knO45U.js";import{F as q}from"./file-text--pdc2I_9.js";import"./Dropdown-ckgaHpXR.js";import"./transition-1OrjVXTB.js";import"./toaster-CNCOgU5M.js";import"./use-toast-RAxD_qPw.js";import"./index-mEOC90f-.js";import"./index-DmEAzzlf.js";import"./createLucideIcon-CAyUIJle.js";import"./utils-BVseyFTm.js";import"./index-OUqkuChP.js";import"./index-TPlP--yk.js";import"./XMarkIcon-DDKr4MYC.js";import"./clipboard-check-BH2-nbLx.js";import"./with-selector-zTZqIz8T.js";import"./index-CBaW-HDF.js";function ee({user:j,stats:s,monthlyStats:r,topDivisions:i,recentPRs:l}){const g=[{title:"Total PRs",icon:y,value:(s==null?void 0:s.total)||0,color:"bg-indigo-500"},{title:"Reviewed",icon:b,value:(s==null?void 0:s.reviewed)||0,color:"bg-green-500"},{title:"Pending",icon:v,value:(s==null?void 0:s.pending)||0,color:"bg-yellow-500"},{title:"Sent Back",icon:w,value:(s==null?void 0:s.sent_back)||0,color:"bg-red-500"}];return e.jsxs(u,{header:"Schools Division Office - Ilagan | Dashboard",children:[e.jsx(f,{title:"Dashboard"}),e.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 mb-6",children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-800",children:["Welcome, ",j.firstname]}),e.jsx("p",{className:"text-gray-600",children:"Track purchase requests, monitor statuses, and see division trends."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:g.map((a,N)=>e.jsx(d,{className:"shadow-sm",children:e.jsxs(t,{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:a.title}),e.jsx("h2",{className:"text-3xl font-bold",children:a.value})]}),e.jsx("div",{className:`p-3 rounded-full text-white ${a.color}`,children:e.jsx(a.icon,{className:"w-6 h-6"})})]})},N))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(d,{className:"shadow-sm",children:[e.jsx(c,{children:e.jsx(o,{children:"Purchase Requests Over Time"})}),e.jsx(t,{children:r!=null&&r.length?e.jsx(x,{width:"100%",height:250,children:e.jsxs(C,{data:r,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"month"}),e.jsx(m,{}),e.jsx(h,{}),e.jsx(T,{type:"monotone",dataKey:"total",stroke:"#4f46e5",strokeWidth:2})]})}):e.jsx("p",{className:"text-gray-500 text-center py-10",children:"No data available."})})]}),e.jsxs(d,{className:"shadow-sm",children:[e.jsx(c,{children:e.jsx(o,{children:"Top Requesting Divisions"})}),e.jsx(t,{children:i!=null&&i.length?e.jsx(x,{width:"100%",height:250,children:e.jsxs(k,{data:i,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"division"}),e.jsx(m,{}),e.jsx(h,{}),e.jsx(L,{dataKey:"count",fill:"#10b981"})]})}):e.jsx("p",{className:"text-gray-500 text-center py-10",children:"No division data yet."})})]})]}),e.jsxs(d,{className:"shadow-sm",children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5 text-indigo-600"}),"Recent Purchase Requests"]})}),e.jsx(t,{children:l!=null&&l.length?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm border-t",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-600 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-2",children:"PR Number"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Division"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Focal Person"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Date"})]})}),e.jsx("tbody",{children:l.map(a=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:a.pr_number}),e.jsx("td",{className:"px-4 py-2",children:a.division}),e.jsx("td",{className:"px-4 py-2",children:a.focal_person}),e.jsx("td",{className:"px-4 py-2",children:a.status}),e.jsx("td",{className:"px-4 py-2",children:a.created_at})]},a.id))})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent purchase requests found."})})]})]})}export{ee as default};
