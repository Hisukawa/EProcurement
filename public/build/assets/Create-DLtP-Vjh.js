import{b as G,a as r,u as ee,c as O,j as e,H as ie,d as K}from"./app-LDdax5iI.js";import{R as ce}from"./RequesterLayout-BOA45QfV.js";import{S as y}from"./sweetalert2.esm.all-Bj_ZQUAw.js";import{D as Q,a as $,b as L,c as A,e as H}from"./dialog-BptqLqxd.js";import{B as w}from"./button-BMl7BqBf.js";import{c as V}from"./createLucideIcon-DrNxoqAN.js";import{F as oe}from"./file-text-B6ni5wgy.js";import{C as de}from"./clipboard-list-Bb3G4pN3.js";import{B as ue}from"./building-2-C5v6XqvS.js";import{S as me}from"./send-horizontal-FqQJzcxb.js";import"./Dropdown-C8_SUBrT.js";import"./transition-_9UKH1s9.js";import"./toaster-BItjg4iY.js";import"./use-toast--kWwOmJE.js";import"./index-GtxlS3ZO.js";import"./index-BDPPaT4y.js";import"./utils-C-fxeSCl.js";import"./index-DQeU0o6N.js";import"./index-BFDba8cI.js";import"./XMarkIcon-CEFFAdab.js";import"./index-BwQ9obGD.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pe=V("loader-circle",xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],be=V("user-plus",he);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ge=V("user",fe);function ye({open:p,onClose:j,units:_,onProductSaved:o}){const{data:i,setData:u,processing:d,errors:n,reset:m}=ee({name:"",specs:"",unit_id:"",custom_unit:"",default_price:"",quantity:1});r.useEffect(()=>{p||m()},[p]);const q=async a=>{a.preventDefault();const h=i.custom_unit.trim();if(h){const N=_.find(v=>v.unit.toLowerCase()===h.toLowerCase());N?(u("unit_id",N.id),u("custom_unit","")):u("unit_id","")}const P={...i,unit:h!==""?h:i.unit_id};try{const v=(await K.post(route("requester.store_product"),P)).data.product;v&&o({...v,quantity:Number(i.quantity),total_item_price:Number(v.default_price)*Number(i.quantity)}),j()}catch(N){console.error("Error saving product:",N),y.fire("Error!","Failed to save product. Please try again.","error")}};return e.jsx(Q,{open:p,onOpenChange:j,children:e.jsxs($,{className:"max-w-2xl",children:[e.jsx(L,{children:e.jsx(A,{children:"Add New Item"})}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Item Name"}),e.jsx("input",{type:"text",value:i.name,onChange:a=>u("name",a.target.value),className:"w-full border rounded px-3 py-2"}),n.name&&e.jsx("p",{className:"text-red-600 text-sm",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Specifications"}),e.jsx("textarea",{value:i.specs,onChange:a=>u("specs",a.target.value),className:"w-full border rounded px-3 py-2",rows:3}),n.specs&&e.jsx("p",{className:"text-red-600 text-sm",children:n.specs})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium mb-1",children:"Unit"}),e.jsxs("select",{value:i.unit_id,onChange:a=>u("unit_id",a.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Select Unit --"}),_.map(a=>e.jsx("option",{value:a.id,children:a.unit},a.id))]}),n.unit_id&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:n.unit_id})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium mb-1",children:"Enter Unit (if not listed)"}),e.jsx("input",{type:"text",value:i.custom_unit,onChange:a=>u("custom_unit",a.target.value),className:"w-full border rounded px-3 py-2",placeholder:"Enter custom unit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Default Price (â‚±)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:i.default_price,onChange:a=>u("default_price",a.target.value),className:"w-full border rounded px-3 py-2"}),n.default_price&&e.jsx("p",{className:"text-red-600 text-sm",children:n.default_price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Quantity"}),e.jsx("input",{type:"number",min:"1",value:i.quantity,onChange:a=>u("quantity",a.target.value),className:"w-full border rounded px-3 py-2"}),n.quantity&&e.jsx("p",{className:"text-red-600 text-sm",children:n.quantity})]}),e.jsxs(H,{className:"mt-4",children:[e.jsx(w,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),e.jsxs(w,{type:"submit",disabled:d,children:[d?"Saving...":"Save & Add to PR"," "]})]})]})]})})}function je({products:p,handleProductSelect:j,setOpenProductModal:_,onProductPriceUpdated:o}){const[i,u]=r.useState(""),[d,n]=r.useState(1),[m,q]=r.useState({}),a=10,h=r.useMemo(()=>p.filter(s=>`${s.name} ${s.specs}`.toLowerCase().includes(i.toLowerCase())),[i,p]),P=Math.ceil(h.length/a),N=r.useMemo(()=>{const s=(d-1)*a;return h.slice(s,s+a)},[h,d]),v=()=>n(s=>Math.max(s-1,1)),E=()=>n(s=>Math.min(s+1,P)),D=(s,l)=>{q(f=>({...f,[s]:l}))},B=s=>{const l=parseFloat(m[s]);if(isNaN(l)||l<0){y.fire("Invalid Price","Please enter a valid positive number for the price.","warning");return}O.put(route("requester.update_price",s),{default_price:l},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{q(f=>{const S={...f};return delete S[s],S}),o&&o(),y.fire("Success!","Product price updated successfully.","success")},onError:f=>{console.error("Error updating price:",f),y.fire("Error!","Failed to update product price.","error")}})},[x,b]=r.useState(!1),W=async s=>{const l=s.target.files[0];if(!l)return;const f=new FormData;f.append("file",l),b(!0);try{const S=await K.post(route("requester.import"),f);toast({title:"Success",description:"Products imported successfully!"}),window.location.reload()}catch{toast({title:"Error",description:"Failed to import products!",variant:"destructive"})}finally{b(!1)}};return e.jsxs("div",{className:"flex flex-col md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Available Items"}),e.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg transition",children:"Add New Item"})]}),e.jsxs("div",{className:"mb-4 flex gap-2 items-center",children:[e.jsx("input",{type:"text",value:i,onChange:s=>{u(s.target.value),n(1)},placeholder:"Search by item name or specifications...",className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-400"}),e.jsx("a",{href:route("requester.download_product_template"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Download Excel Template"}),e.jsx("input",{type:"file",accept:".xlsx,.csv",onChange:W,className:"border px-3 py-2 rounded"}),x&&e.jsx(pe,{className:"animate-spin h-4 w-4"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border border-gray-300 rounded-lg shadow",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 border",children:"Item"}),e.jsx("th",{className:"px-3 py-2 border",children:"Specifications"}),e.jsx("th",{className:"px-3 py-2 border",children:"Unit"}),e.jsx("th",{className:"px-3 py-2 border",children:"Default Price (â‚±)"}),e.jsx("th",{className:"px-3 py-2 border",children:"Actions"})]})}),e.jsx("tbody",{children:N.length>0?N.map(s=>{var l;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 border",children:s.name}),e.jsx("td",{className:"px-3 py-2 border",children:s.specs}),e.jsx("td",{className:"px-3 py-2 border",children:((l=s.unit)==null?void 0:l.unit)||"-"}),e.jsxs("td",{className:"px-3 py-2 border flex items-center gap-2",children:[e.jsx("input",{type:"number",step:"0.01",defaultValue:s.default_price,onChange:f=>D(s.id,f.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm text-center focus:ring-2 focus:ring-blue-500"}),m[s.id]!==void 0&&e.jsx("button",{type:"button",onClick:()=>B(s.id),className:"text-xs bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded transition",children:"Save"})]}),e.jsx("td",{className:"px-3 py-2 border text-center",children:e.jsx("button",{type:"button",onClick:()=>j(s.id),className:"bg-blue-500 hover:bg-blue-600 text-white w-8 h-8 rounded-full text-lg font-bold transition",title:"Add Product",children:"+"})})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-500",children:"No products match your search."})})})]})}),P>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:v,disabled:d===1,className:`px-3 py-1 rounded-md ${d===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",d," of ",P]}),e.jsx("button",{type:"button",onClick:E,disabled:d===P,className:`px-3 py-1 rounded-md ${d===P?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Next"})]})]})}function Ne({isOpen:p,onClose:j,onConfirm:_,product:o}){var n;const[i,u]=r.useState("");if(r.useEffect(()=>{p&&o&&u(1)},[p,o]),!p||!o)return null;const d=()=>{const m=Number(i);m>0?(_(m),j()):y.fire("Invalid Quantity","Please enter a positive number for quantity.","warning")};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Item to PR"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Item:"})," ",o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Specs:"})," ",o.specs]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Unit:"})," ",((n=o.unit)==null?void 0:n.unit)||"-"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Unit Price (â‚±):"})," ",Number(o.default_price).toFixed(2)]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),e.jsx("input",{type:"number",min:"1",step:"1",value:i,onChange:m=>u(m.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded",children:"Cancel"}),e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Confirm"})]})]})})}function ze({requestedBy:p,products:j,units:_}){const o=G().props.auth.user,i=`${o.firstname} ${o.middlename??""} ${o.lastname}`.trim();G().props.pr_number;const[u,d]=r.useState(!1),[n,m]=r.useState(null),{pr_number:q,latestPr:a}=G().props,[h,P]=r.useState(q),[N,v]=r.useState(!1),[E,D]=r.useState(j);r.useEffect(()=>{b("pr_number",h)},[h]);const B=t=>{T(t.quantity,t),O.reload({only:["products"],onSuccess:c=>{D(c.props.products)}})},{data:x,setData:b,post:W,processing:s,errors:l}=ee({focal_person:o.id,pr_number:h||"",purpose:"",division_id:o.division.id,requested_by:p.name||"",products:[]}),[f,S]=r.useState(!1),[te,J]=r.useState(!1),[z,ve]=r.useState({title:"",text:"",success:!0}),[X,Y]=r.useState(!1),se=t=>{if(t.preventDefault(),x.products.length===0){y.fire("No Items","Please add at least one item to the Purchase Request.","warning");return}S(!0)},re=async()=>{Y(!0);try{const t=await K.post(route("requester.store"),x);t.data.success?(localStorage.setItem("flashSuccess",t.data.message),localStorage.setItem("highlightPrId",t.data.highlightPrId),window.location.href=route("requester.manage_requests")):y.fire("Error!",t.data.message||"Failed to create PR.","error")}catch(t){console.error(t),t.response&&t.response.data&&t.response.data.message?y.fire("Error!",t.response.data.message,"error"):y.fire("Error!","An unexpected error occurred while creating the PR.","error")}finally{Y(!1)}},ae=t=>{const c=E.find(g=>g.id===t);c&&(m(c),d(!0))},[le,R]=r.useState(!1),[Z,F]=r.useState(null),[C,M]=r.useState(null),T=r.useCallback((t,c=n)=>{var U;if(!c)return;const g=x.products.findIndex(I=>I.product_id===c.id),k=Number(t);if(k<=0){y.fire("Invalid Quantity","Quantity must be a positive number.","warning");return}if(g!==-1)F(k),M(g),m(c),R(!0);else{const I={product_id:c.id,item:c.name,specs:c.specs,unit:(U=c.unit)==null?void 0:U.unit,unit_price:Number(c.default_price),total_item_price:Number(c.default_price*k),quantity:k};b("products",[...x.products,I]),d(!1),m(null),y.fire("Added!",`${I.item} added to PR.`,"success")}},[x.products,b,n]),ne=()=>{O.reload({only:["products"],onSuccess:t=>{D(t.props.products)}})};return r.useEffect(()=>{let t=setInterval(()=>{document.visibilityState==="visible"&&O.reload({only:["latestPr","products"],preserveScroll:!0,preserveState:!0,onSuccess:c=>{const g=c.props.latestPr;if(g){const k=g.slice(0,-3),U=parseInt(g.slice(-3))+1,I=k+U.toString().padStart(3,"0");P(I)}D(c.props.products)}})},5e3);return()=>clearInterval(t)},[]),e.jsxs(ce,{header:"Schools Division Office - Ilagan | Create PR",children:[e.jsx(ie,{title:"Create PR"}),e.jsxs("div",{className:"mx-auto mt-6 bg-white p-8 shadow-xl rounded",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Create Purchase Request"}),e.jsxs("form",{onSubmit:se,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"focal_person",className:"text-sm font-medium text-gray-700 mb-2",children:"Focal Person"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"focal_person",type:"text",value:i,readOnly:!0,placeholder:"Auto-filled",className:"pl-10 pr-4 py-3 border border-gray-300 bg-gray-100 rounded-lg text-sm w-full"})]}),l.focal_person&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.focal_person})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"pr_number",className:"text-sm font-medium text-gray-700 mb-2",children:"PR Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"pr_number",type:"text",value:x.pr_number,onChange:t=>b("pr_number",t.target.value),placeholder:"Enter PR Number",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-full"})]}),e.jsx("div",{className:"flex flex-col items-center text-gray-400",children:e.jsx("small",{className:"text-xs italic text-red-500",children:"Note that the PR Number is AUTO GENERATED based on the last PR across the system"})}),l.pr_number&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.pr_number})]}),e.jsxs("div",{className:"flex flex-col md:col-span-2",children:[e.jsx("label",{htmlFor:"purpose",className:"text-sm font-medium text-gray-700 mb-2",children:"Purpose"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{id:"purpose",value:x.purpose,onChange:t=>b("purpose",t.target.value),placeholder:"Describe the purpose of this request...",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm resize-y focus:ring-2 focus:ring-blue-500 w-full",rows:4})]}),l.purpose&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.purpose})]}),e.jsxs("div",{className:"flex flex-col md:col-span-2",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Selected Items"}),e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg shadow text-sm mb-4",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border-b",children:"Item"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Specs"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Unit"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Unit Price (â‚±)"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Quantity"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Actions"})]})}),e.jsx("tbody",{children:x.products.length>0?x.products.map((t,c)=>e.jsxs("tr",{className:"text-gray-800",children:[" ",e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.item}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.specs}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.unit}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:Number(t.unit_price).toFixed(2)}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.quantity}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:e.jsx("button",{type:"button",onClick:()=>{const g=[...x.products];g.splice(c,1),b("products",g)},className:"text-red-600 hover:underline text-sm",children:"Remove"})})]},t.product_id||c)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center text-gray-500 py-4",children:"No Items added yet."})})})]})]}),e.jsx(Ne,{isOpen:u,onClose:()=>{d(!1),m(null)},onConfirm:T,product:n}),e.jsx(ye,{open:N,onClose:()=>v(!1),units:_,onProductSaved:B}),e.jsx(je,{products:E,handleProductSelect:ae,setOpenProductModal:v,onProductPriceUpdated:ne}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"division",className:"text-sm font-medium text-gray-700 mb-2",children:"Division"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"division",type:"text",value:o.division.division,readOnly:!0,placeholder:"Auto-filled division",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-full"})]}),l.division_id&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.division_id})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"requested_by",className:"text-sm font-medium text-gray-700 mb-2",children:"Requested By"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"requested_by",type:"text",value:x.requested_by,onChange:t=>b("requested_by",t.target.value),placeholder:"Enter requestor's name",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-full"})]}),l.requested_by&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:l.requested_by})]}),e.jsxs("div",{className:"md:col-span-2 flex justify-end mt-4 gap-5",children:[e.jsx(w,{type:"button",onClick:()=>window.history.back(),className:"bg-red-600 hover:bg-red-400 text-white font-medium px-6 py-3 rounded-lg text-base transition-all duration-200",children:"Cancel"}),e.jsx(w,{type:"submit",disabled:s,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-8 py-3 rounded-lg text-base transition-all duration-200 flex items-center gap-2 disabled:opacity-50",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Creating..."]}):e.jsxs(e.Fragment,{children:["Proceed",e.jsx(me,{className:"h-5 w-5"})]})})]})]})]}),e.jsx(Q,{open:f,onOpenChange:S,children:e.jsxs($,{className:"max-w-md",children:[e.jsx(L,{children:e.jsx(A,{children:"Are you sure?"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Do you want to proceed with creating this Purchase Request?"}),e.jsxs(H,{className:"mt-4 flex justify-end gap-3",children:[e.jsx(w,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),e.jsx(w,{onClick:re,disabled:X,className:"bg-green-600 hover:bg-green-700",children:X?"Submitting...":"Confirm"})]})]})}),e.jsx(Q,{open:te,onOpenChange:J,children:e.jsxs($,{className:"max-w-md",children:[e.jsx(L,{children:e.jsx(A,{className:z.success?"text-green-600":"text-red-600",children:z.title})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:z.text}),e.jsx(H,{className:"mt-4 flex justify-end",children:e.jsx(w,{onClick:()=>J(!1),children:"OK"})})]})}),e.jsx(Q,{open:le,onOpenChange:R,children:e.jsxs($,{className:"max-w-lg",children:[e.jsx(L,{children:e.jsx(A,{className:"text-yellow-600",children:"Item already added"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This item is already in your PR. What would you like to do?"}),e.jsxs(H,{className:"mt-4 flex justify-end gap-3",children:[e.jsx(w,{variant:"outline",onClick:()=>{R(!1),F(null),M(null)},children:"âŒ Cancel"}),e.jsx(w,{onClick:()=>{const t=[...x.products];t[C].quantity+=Z,t[C].total_item_price=t[C].quantity*t[C].unit_price,b("products",t),R(!1),F(null),M(null),d(!1),m(null)},children:"âž• Increase Quantity"}),e.jsx(w,{onClick:()=>{const t=[...x.products];t[C].quantity=Z,t[C].total_item_price=t[C].quantity*t[C].unit_price,b("products",t),R(!1),F(null),M(null),d(!1),m(null)},children:"ðŸ”„ Replace Quantity"})]})]})})]})}export{ze as default};
