import{a as A,r as t,j as e,H as L,b as C}from"./app-z2zUCIH2.js";import{A as P}from"./AdminLayout-qIAf_2_o.js";import{D as w,a as E,b,c as k,d as D,e as O}from"./dialog-Dc_xfRUc.js";import{B as n}from"./button-BxtF8k1k.js";import{C as u,a as f,b as g,c as j}from"./card-CwESshjk.js";import{I as F}from"./input-C0xL9zp4.js";import{u as R}from"./use-toast-Byxe34qQ.js";import{B as z}from"./building-2-CSXQ-ITi.js";import{c as G}from"./createLucideIcon-B5xgoSjl.js";import{C as J}from"./clipboard-list-QDgYMFr9.js";import"./Dropdown-DTp9JO5b.js";import"./transition-Mdjj0t_f.js";import"./toaster-De5hWt1k.js";import"./index-CMYY62sn.js";import"./index-BPRSbHGy.js";import"./utils-Cf4Ri238.js";import"./index-ZeHC1oZz.js";import"./users-DQf4mAf0.js";import"./ClipboardDocumentIcon-BLqeaTjg.js";import"./index-DDOX9kOw.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Q=G("users-round",K);function pe({divisions:o,inspectionCommittees:d,bacCommittees:m}){var S;const{props:_}=A(),a=(S=_.flash)==null?void 0:S.success,{toast:q}=R(),[B,x]=t.useState(!1),[T,r]=t.useState(!1),[i,N]=t.useState(null),[l,y]=t.useState(""),[c,p]=t.useState({name:""});t.useEffect(()=>{a&&x(!0)},[a]);const v=(s,h)=>{N(s),y(h),p({name:s.name,position:s.role}),r(!0)},I=()=>{i&&(l==="bac"?C.post(route("admin.update_bac",{committee:i.committee_id??1}),{members:[{name:c.name,position:c.position}]},{preserveScroll:!0}):l==="requesting"&&C.post(route("admin.update_requesting",{division:i.id}),{name:c.name},{preserveScroll:!0}),r(!1))};t.useEffect(()=>{a&&(q({title:"✅ Success",description:a}),x(!0))},[a]);const U=o!=null&&o.length?o:[],H=d!=null&&d.length?d:[],M=m!=null&&m.length?m:[];return e.jsxs(P,{header:"⚙️ System Settings",children:[e.jsx(L,{title:"Settings"}),e.jsxs("div",{className:"max-w-6xl mx-auto mt-6 space-y-12",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"System Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage configurations for divisions, inspection team, and committees."})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-blue-700 flex items-center gap-2 mb-4",children:[e.jsx(z,{className:"w-5 h-5"}),"Divisions"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(s=>e.jsxs(u,{className:"hover:shadow-lg transition",children:[e.jsx(f,{children:e.jsx(g,{className:"text-blue-600",children:s.division})}),e.jsxs(j,{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Officer"}),e.jsx("p",{className:"font-medium text-gray-900",children:s.active_officer?s.active_officer.name:"No active officer"}),e.jsx(n,{variant:"outline",className:"mt-4 w-full",onClick:()=>{var h;N(s),y("requesting"),p({name:((h=s.active_officer)==null?void 0:h.name)||""}),r(!0)},children:"Update Officer"})]})]},s.id))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-green-700 flex items-center gap-2 mb-4",children:[e.jsx(Q,{className:"w-5 h-5"}),"Inspection Team"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(s=>e.jsxs(u,{className:"hover:shadow-lg transition",children:[e.jsx(f,{children:e.jsx(g,{className:"text-green-600",children:s.position})}),e.jsxs(j,{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx(n,{variant:"outline",className:"mt-4 w-full",onClick:()=>v(s,"inspection"),children:"Edit"})]})]},s.id))})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-purple-700 flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-5 h-5"}),"BAC Committee"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(s=>e.jsxs(u,{className:"hover:shadow-lg transition",children:[e.jsx(f,{children:e.jsx(g,{className:"text-purple-600",children:s.position})}),e.jsxs(j,{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.name}),e.jsx(n,{variant:"outline",className:"mt-4 w-full",onClick:()=>v(s,"bac"),children:"Edit"})]})]},s.id))})]})]}),e.jsx(w,{open:B,onOpenChange:x,children:e.jsxs(E,{children:[e.jsxs(b,{children:[e.jsx(k,{children:"✅ Success"}),e.jsx(D,{children:a})]}),e.jsx(O,{children:e.jsx(n,{onClick:()=>x(!1),children:"Close"})})]})}),e.jsx(w,{open:T,onOpenChange:r,children:e.jsxs(E,{children:[e.jsxs(b,{children:[e.jsx(k,{children:l==="requesting"?"Update Officer":"Edit Committee Member"}),e.jsx(D,{children:l==="requesting"?"Update the requisitioning officer for this division.":"Update the committee member’s name below."})]}),e.jsxs("div",{className:"space-y-4",children:[l!=="requesting"&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Position"}),e.jsx("p",{className:"font-medium text-gray-800",children:i==null?void 0:i.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Name"}),e.jsx(F,{value:c.name,onChange:s=>p({...c,name:s.target.value})})]})]}),e.jsxs(O,{children:[e.jsx(n,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(n,{onClick:I,children:"Save Changes"})]})]})})]})}export{pe as default};
