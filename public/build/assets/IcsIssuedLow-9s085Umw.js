import{a as x,j as e,H as f}from"./app-CJGPeEqL.js";import{R as g}from"./RequesterIssuedTabs-CdrVmm-9.js";import{R as w}from"./RequesterLayout-CvKWXNst.js";import"./Dropdown-CRlSc8Sf.js";import"./transition-5zZZNu15.js";import"./toaster-C6XIs2kB.js";import"./use-toast-DrlOWvM6.js";import"./index-Bj-Hhsn1.js";import"./index-nvqwRDlH.js";import"./createLucideIcon-Dy789CsD.js";import"./utils-Bli2D0HZ.js";import"./index-CpXPFYAN.js";import"./index-DRNguNOB.js";import"./XMarkIcon-CwdTtRA1.js";function H({ics:i}){var p;const[a,y]=x.useState(""),[l,j]=x.useState(""),[o,N]=x.useState(new Date().getFullYear()),m=(p=i==null?void 0:i.data)==null?void 0:p.filter(t=>{var r,h,u,b;const s=a===""||((h=(r=t.ics)==null?void 0:r.ics_number)==null?void 0:h.toLowerCase().includes(a.toLowerCase()))||((b=(u=t.inventory_item)==null?void 0:u.item_desc)==null?void 0:b.toLowerCase().includes(a.toLowerCase())),n=new Date(t.created_at),d=l===""||n.getMonth()+1===Number(l),c=o===""||n.getFullYear()===Number(o);return s&&d&&c});return e.jsxs(w,{header:"Schools Division Office - Ilagan | Issued ICS Low",children:[e.jsx(f,{title:"Issued ICS Low"}),e.jsx(g,{}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Inventory Custodian Slip - Low (ICS)"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{onClick:()=>window.location.href=route("supply_officer.export_excel"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm shadow",children:"Monthly Report"}),e.jsx("button",{onClick:()=>window.location.href=route("supply_officer.export_excel",{month:l,year:o}),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md text-sm shadow",children:"Export Excel"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Month:"}),e.jsxs("select",{className:"border border-gray-300 rounded-md px-2 py-1 text-sm",value:l,onChange:t=>j(t.target.value),children:[e.jsx("option",{value:"",children:"All"}),["January","February","March","April","May","June","July","August","September","October","November","December"].map((t,s)=>e.jsx("option",{value:s+1,children:t},s))]}),e.jsx("label",{className:"text-sm font-medium ml-4",children:"Year:"}),e.jsx("input",{type:"number",className:"border border-gray-300 rounded-md px-2 py-1 w-20 text-sm",value:o,onChange:t=>N(t.target.value)})]}),e.jsx("input",{type:"text",placeholder:"Search ICS number, item...",className:"border border-gray-300 rounded-md px-3 py-2 w-full md:w-64 text-sm",value:a,onChange:t=>y(t.target.value)})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-300 rounded-lg text-sm",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"#"}),e.jsx("th",{className:"px-4 py-2 border",children:"ICS No."}),e.jsx("th",{className:"px-4 py-2 border",children:"Item Description"}),e.jsx("th",{className:"px-4 py-2 border",children:"Quantity"}),e.jsx("th",{className:"px-4 py-2 border",children:"Unit Cost"}),e.jsx("th",{className:"px-4 py-2 border",children:"Total Cost"}),e.jsx("th",{className:"px-4 py-2 border",children:"Date Issued"}),e.jsx("th",{className:"px-4 py-2 border",children:"Issued By"})]})}),e.jsx("tbody",{children:m&&m.length>0?m.map((t,s)=>{var d,c,r;const n=t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}):"—";return e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 border",children:s+1}),e.jsxs("td",{className:"px-4 py-2 border font-medium",children:["L-",(d=t.ics)==null?void 0:d.ics_number]}),e.jsx("td",{className:"px-4 py-2 border",children:((c=t.inventory_item)==null?void 0:c.item_desc)??"N/A"}),e.jsx("td",{className:"px-4 py-2 border",children:t.quantity}),e.jsxs("td",{className:"px-4 py-2 border",children:["₱",Number(t.unit_cost??0).toFixed(2)]}),e.jsxs("td",{className:"px-4 py-2 border",children:["₱",Number(t.total_cost??0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-2 border",children:n}),e.jsx("td",{className:"px-4 py-2 border",children:(r=t.ics)!=null&&r.received_from?`${t.ics.received_from.firstname} ${t.ics.received_from.lastname}`:"N/A"})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"text-center py-4 text-gray-500",children:"No ICS records found"})})})]})})]})]})}export{H as default};
