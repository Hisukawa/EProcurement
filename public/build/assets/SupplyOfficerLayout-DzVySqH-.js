import{a as s,b as N,j as e,L as u,d as v}from"./app-LfMCLqwU.js";import{l as g,F as b,T as _}from"./toaster-B0JEbWJx.js";import{N as r,D as c}from"./Dropdown-D7C0naGa.js";import{F as k,a as R}from"./XMarkIcon-X8B6ni_0.js";import{c as f}from"./createLucideIcon-BuIiU6c-.js";import{C as L}from"./clipboard-check--atYlHJL.js";import{B as E,P as M}from"./package-check-D1BTswej.js";import{T as C}from"./trash-D4YYDTp7.js";function S({title:a,titleId:i,...l},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":i},l),a?s.createElement("title",{id:i},a):null,s.createElement("path",{d:"M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z"}),s.createElement("path",{fillRule:"evenodd",d:"M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z",clipRule:"evenodd"}))}const O=s.forwardRef(S);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],I=f("box",A);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],B=f("repeat",P);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],F=f("user-round",D);function $({title:a,titleId:i,...l},o){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":i},l),a?s.createElement("title",{id:i},a):null,s.createElement("path",{fillRule:"evenodd",d:"M11.914 4.086a2 2 0 0 0-2.828 0l-5 5a2 2 0 1 0 2.828 2.828l.556-.555a.75.75 0 0 1 1.06 1.06l-.555.556a3.5 3.5 0 0 1-4.95-4.95l5-5a3.5 3.5 0 0 1 4.95 4.95l-1.972 1.972a2.125 2.125 0 0 1-3.006-3.005L9.97 4.97a.75.75 0 1 1 1.06 1.06L9.058 8.003a.625.625 0 0 0 .884.883l1.972-1.972a2 2 0 0 0 0-2.828Z",clipRule:"evenodd"}))}const Z=s.forwardRef($);function K({header:a,children:i}){const{user:l}=N().props.auth,[o,y]=s.useState(!1),[j,h]=s.useState(!1),[d,w]=s.useState([]),p=s.useRef(null);s.useEffect(()=>{const t=async()=>{try{const x=await v.get("/notifications");w(x.data)}catch(x){console.error("Notification fetch error:",x)}};t();const n=setInterval(t,1e4);return()=>clearInterval(n)},[]),s.useEffect(()=>{function t(n){p.current&&!p.current.contains(n.target)&&h(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const m=d.filter(t=>!t.read).length;return e.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-gray-100",children:[e.jsxs("div",{className:"md:hidden bg-gray-900 text-white flex items-center justify-between px-4 py-3 shadow-md",children:[e.jsx(u,{href:"/",children:e.jsx("img",{src:g,alt:"Logo",className:"h-10 w-auto"})}),e.jsx("button",{onClick:()=>y(!o),children:o?e.jsx(k,{className:"h-6 w-6"}):e.jsx(R,{className:"h-6 w-6"})})]}),e.jsx("aside",{className:`md:block ${o?"block":"hidden"} md:w-64 w-full bg-gray-900 text-white sticky top-0 h-screen`,children:e.jsxs("div",{className:"p-6",children:[e.jsx(u,{href:"/",children:e.jsx("img",{src:g,alt:"DepEd Logo",className:"h-20 mx-auto mb-4"})}),e.jsx("p",{className:"text-center text-xs text-gray-400 font-mono mb-4",children:"Supply & Property Office"}),e.jsxs("nav",{className:"flex flex-col gap-2",children:[e.jsxs(r,{href:route("supply_officer.dashboard"),active:route().current("supply_officer.dashboard"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(b,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Dashboard"})]}),e.jsxs(r,{href:route("supply_officer.purchase_orders_table"),active:route().current("supply_officer.purchase_orders_table"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(I,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white text-sm",children:"Manage POs"})]}),e.jsxs(r,{href:route("supply_officer.iar_table"),active:route().current("supply_officer.iar_table"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(L,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white text-sm",children:"Manage IARs"})]}),e.jsxs(r,{href:route("supply_officer.inventory"),active:route().current("supply_officer.inventory"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(E,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Inventory"})]}),e.jsxs(r,{href:route("supply_officer.delivery_receipts"),active:route().current("supply_officer.delivery_receipts"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(Z,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Delivery Receipts"})]}),e.jsxs(r,{href:route("supply_officer.ris_issuance"),active:["supply_officer.ris_issuance","supply_officer.ics_issuance_low","supply_officer.ics_issuance_high","supply_officer.par_issuance"].some(t=>route().current(t)),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(M,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Item Issuance"})]}),e.jsxs(r,{href:route("supply_officer.disposed_items"),active:route().current("supply_officer.disposed_items"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(C,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Disposal"})]}),e.jsxs(r,{href:route("supply_officer.returned_items"),active:route().current("supply_officer.returned_items"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(B,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Reissuance"})]}),e.jsxs(r,{href:route("supply_officer.suppliers"),active:route().current("supply_officer.suppliers"),className:"flex items-center gap-2 px-4 py-2 hover:bg-indigo-600 rounded-lg",children:[e.jsx(F,{className:"w-5 h-5 text-gray-300"}),e.jsx("span",{className:"text-white font-medium",children:"Suppliers"})]})]})]})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"bg-white shadow px-6 py-4 flex justify-between items-center sticky top-0 z-30",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:a||"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"e-Procurement & Inventory Management System"})]}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>h(t=>!t),className:"relative focus:outline-none",children:[e.jsx(O,{className:"w-6 h-6 text-gray-600 hover:text-gray-800"}),m>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5",children:m})]}),j&&e.jsxs("div",{ref:p,className:"absolute right-0 mt-10 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e.jsx("div",{className:"p-3 font-medium text-gray-700 border-b",children:"Notifications"}),d.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-500",children:"No notifications."}):e.jsx("ul",{className:"max-h-60 overflow-y-auto",children:d.map(t=>{var n;return e.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 text-sm text-gray-800",children:((n=t.data)==null?void 0:n.message)||"New notification"},t.id)})})]}),e.jsxs(c,{children:[e.jsx(c.Trigger,{children:e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-gray-900 cursor-pointer",children:[l.firstname," ",l.lastname,e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4-4-4a1 1 0 010-1.414z"})})]})}),e.jsxs(c.Content,{children:[e.jsx(c.Link,{href:route("profile.edit"),children:"Profile"}),e.jsx(c.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})]})]}),e.jsx("main",{className:"p-6 flex-1 overflow-y-auto bg-gray-300",children:i}),e.jsx(_,{})]})]})}export{K as S};
