import{r as ue,g as de,a as ae,j as f,H as ge}from"./app-DIvhqflN.js";import{A as fe}from"./AdminLayout-DXZwiLHy.js";import"./Dropdown-DNA0O0Ar.js";import"./transition-CN94-6cg.js";import"./toaster-BG0km8U8.js";import"./use-toast-DOzsFwf_.js";import"./index-rNSkqM9E.js";import"./index-sHCL6Saa.js";import"./createLucideIcon-BlLWWl-g.js";import"./utils-DmZEVKAZ.js";import"./index-CjTI4XxM.js";import"./users-QF3TtLg2.js";var re={exports:{}},me=re.exports,le;function be(){return le||(le=1,(function(V,J){(function(Y,F){V.exports=F(ue())})(me,(Y=>(()=>{var F={703:(c,g,o)=>{var t=o(414);function A(){}function I(){}I.resetWarningCache=A,c.exports=function(){function x(ie,E,z,W,oe,Z){if(Z!==t){var G=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw G.name="Invariant Violation",G}}function j(){return x}x.isRequired=x;var K={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:j,element:x,elementType:x,instanceOf:j,node:x,objectOf:j,oneOf:j,oneOfType:j,shape:j,exact:j,checkPropTypes:I,resetWarningCache:A};return K.PropTypes=K,K}},697:(c,g,o)=>{c.exports=o(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:c=>{c.exports=Y}},$={};function h(c){var g=$[c];if(g!==void 0)return g.exports;var o=$[c]={exports:{}};return F[c](o,o.exports,h),o.exports}h.n=c=>{var g=c&&c.__esModule?()=>c.default:()=>c;return h.d(g,{a:g}),g},h.d=(c,g)=>{for(var o in g)h.o(g,o)&&!h.o(c,o)&&Object.defineProperty(c,o,{enumerable:!0,get:g[o]})},h.o=(c,g)=>Object.prototype.hasOwnProperty.call(c,g),h.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var O={};return(()=>{h.r(O),h.d(O,{default:()=>ce});var c=h(98),g=h.n(c),o=h(697),t=h.n(o);function A(){return A=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(r[p]=l[p])}return r},A.apply(this,arguments)}var I=function(r){var s=r.pageClassName,l=r.pageLinkClassName,p=r.page,H=r.selected,q=r.activeClassName,w=r.activeLinkClassName,a=r.getEventListener,e=r.pageSelectedHandler,d=r.href,n=r.extraAriaContext,i=r.pageLabelBuilder,u=r.rel,b=r.ariaLabel||"Page "+p+(n?" "+n:""),y=null;return H&&(y="page",b=r.ariaLabel||"Page "+p+" is your current page",s=s!==void 0?s+" "+q:q,l!==void 0?w!==void 0&&(l=l+" "+w):l=w),g().createElement("li",{className:s},g().createElement("a",A({rel:u,role:d?void 0:"button",className:l,href:d,tabIndex:H?"-1":"0","aria-label":b,"aria-current":y,onKeyPress:e},a(e)),i(p)))};I.propTypes={pageSelectedHandler:t().func.isRequired,selected:t().bool.isRequired,pageClassName:t().string,pageLinkClassName:t().string,activeClassName:t().string,activeLinkClassName:t().string,extraAriaContext:t().string,href:t().string,ariaLabel:t().string,page:t().number.isRequired,getEventListener:t().func.isRequired,pageLabelBuilder:t().func.isRequired,rel:t().string};const x=I;function j(){return j=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(r[p]=l[p])}return r},j.apply(this,arguments)}var K=function(r){var s=r.breakLabel,l=r.breakAriaLabel,p=r.breakClassName,H=r.breakLinkClassName,q=r.breakHandler,w=r.getEventListener,a=p||"break";return g().createElement("li",{className:a},g().createElement("a",j({className:H,role:"button",tabIndex:"0","aria-label":l,onKeyPress:q},w(q)),s))};K.propTypes={breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabel:t().string,breakClassName:t().string,breakLinkClassName:t().string,breakHandler:t().func.isRequired,getEventListener:t().func.isRequired};const ie=K;function E(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return r??s}function z(r){return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},z(r)}function W(){return W=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(r[p]=l[p])}return r},W.apply(this,arguments)}function oe(r,s){for(var l=0;l<s.length;l++){var p=s[l];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}function Z(r,s){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,p){return l.__proto__=p,l},Z(r,s)}function G(r,s){if(s&&(z(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(r)}function N(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function X(r){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},X(r)}function C(r,s,l){return s in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l,r}var ne=(function(r){(function(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&Z(a,e)})(w,r);var s,l,p,H,q=(p=w,H=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var a,e=X(p);if(H){var d=X(this).constructor;a=Reflect.construct(e,arguments,d)}else a=e.apply(this,arguments);return G(this,a)});function w(a){var e,d;return(function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")})(this,w),C(N(e=q.call(this,a)),"handlePreviousPage",(function(n){var i=e.state.selected;e.handleClick(n,null,i>0?i-1:void 0,{isPrevious:!0})})),C(N(e),"handleNextPage",(function(n){var i=e.state.selected,u=e.props.pageCount;e.handleClick(n,null,i<u-1?i+1:void 0,{isNext:!0})})),C(N(e),"handlePageSelected",(function(n,i){if(e.state.selected===n)return e.callActiveCallback(n),void e.handleClick(i,null,void 0,{isActive:!0});e.handleClick(i,null,n)})),C(N(e),"handlePageChange",(function(n){e.state.selected!==n&&(e.setState({selected:n}),e.callCallback(n))})),C(N(e),"getEventListener",(function(n){return C({},e.props.eventListener,n)})),C(N(e),"handleClick",(function(n,i,u){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=b.isPrevious,R=y!==void 0&&y,U=b.isNext,Q=U!==void 0&&U,M=b.isBreak,k=M!==void 0&&M,S=b.isActive,T=S!==void 0&&S;n.preventDefault?n.preventDefault():n.returnValue=!1;var B=e.state.selected,m=e.props.onClick,L=u;if(m){var P=m({index:i,selected:B,nextSelectedPage:u,event:n,isPrevious:R,isNext:Q,isBreak:k,isActive:T});if(P===!1)return;Number.isInteger(P)&&(L=P)}L!==void 0&&e.handlePageChange(L)})),C(N(e),"handleBreakClick",(function(n,i){var u=e.state.selected;e.handleClick(i,n,u<n?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})})),C(N(e),"callCallback",(function(n){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:n})})),C(N(e),"callActiveCallback",(function(n){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:n})})),C(N(e),"getElementPageRel",(function(n){var i=e.state.selected,u=e.props,b=u.nextPageRel,y=u.prevPageRel,R=u.selectedPageRel;return i-1===n?y:i===n?R:i+1===n?b:void 0})),C(N(e),"pagination",(function(){var n=[],i=e.props,u=i.pageRangeDisplayed,b=i.pageCount,y=i.marginPagesDisplayed,R=i.breakLabel,U=i.breakClassName,Q=i.breakLinkClassName,M=i.breakAriaLabels,k=e.state.selected;if(b<=u)for(var S=0;S<b;S++)n.push(e.getPageElement(S));else{var T=u/2,B=u-T;k>b-u/2?T=u-(B=b-k):k<u/2&&(B=u-(T=k));var m,L,P=function(_){return e.getPageElement(_)},v=[];for(m=0;m<b;m++){var ee=m+1;if(ee<=y)v.push({type:"page",index:m,display:P(m)});else if(ee>b-y)v.push({type:"page",index:m,display:P(m)});else if(m>=k-T&&m<=k+(k===0&&u>1?B-1:B))v.push({type:"page",index:m,display:P(m)});else if(R&&v.length>0&&v[v.length-1].display!==L&&(u>0||y>0)){var se=m<k?M.backward:M.forward;L=g().createElement(ie,{key:m,breakAriaLabel:se,breakLabel:R,breakClassName:U,breakLinkClassName:Q,breakHandler:e.handleBreakClick.bind(null,m),getEventListener:e.getEventListener}),v.push({type:"break",index:m,display:L})}}v.forEach((function(_,D){var te=_;_.type==="break"&&v[D-1]&&v[D-1].type==="page"&&v[D+1]&&v[D+1].type==="page"&&v[D+1].index-v[D-1].index<=2&&(te={type:"page",index:_.index,display:P(_.index)}),n.push(te.display)}))}return n})),a.initialPage!==void 0&&a.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(a.initialPage,") and forcePage (").concat(a.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),d=a.initialPage?a.initialPage:a.forcePage?a.forcePage:0,e.state={selected:d},e}return s=w,(l=[{key:"componentDidMount",value:function(){var a=this.props,e=a.initialPage,d=a.disableInitialCallback,n=a.extraAriaContext,i=a.pageCount,u=a.forcePage;e===void 0||d||this.callCallback(e),n&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(i)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(i,"). Did you forget a Math.ceil()?")),e!==void 0&&e>i-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(i-1,").")),u!==void 0&&u>i-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(u," > ").concat(i-1,")."))}},{key:"componentDidUpdate",value:function(a){this.props.forcePage!==void 0&&this.props.forcePage!==a.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(a.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var a=this.state.selected,e=this.props,d=e.pageCount,n=a+e.pageRangeDisplayed;return n>=d?d-1:n}},{key:"getBackwardJump",value:function(){var a=this.state.selected-this.props.pageRangeDisplayed;return a<0?0:a}},{key:"getElementHref",value:function(a){var e=this.props,d=e.hrefBuilder,n=e.pageCount,i=e.hrefAllControls;if(d)return i||a>=0&&a<n?d(a+1,n,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(a){var e=a===this.state.selected;if(this.props.ariaLabelBuilder&&a>=0&&a<this.props.pageCount){var d=this.props.ariaLabelBuilder(a+1,e);return this.props.extraAriaContext&&!e&&(d=d+" "+this.props.extraAriaContext),d}}},{key:"getPageElement",value:function(a){var e=this.state.selected,d=this.props,n=d.pageClassName,i=d.pageLinkClassName,u=d.activeClassName,b=d.activeLinkClassName,y=d.extraAriaContext,R=d.pageLabelBuilder;return g().createElement(x,{key:a,pageSelectedHandler:this.handlePageSelected.bind(null,a),selected:e===a,rel:this.getElementPageRel(a),pageClassName:n,pageLinkClassName:i,activeClassName:u,activeLinkClassName:b,extraAriaContext:y,href:this.getElementHref(a),ariaLabel:this.ariaLabelBuilder(a),page:a+1,pageLabelBuilder:R,getEventListener:this.getEventListener})}},{key:"render",value:function(){var a=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&a!==void 0)return a&&a(this.props);var e=this.props,d=e.disabledClassName,n=e.disabledLinkClassName,i=e.pageCount,u=e.className,b=e.containerClassName,y=e.previousLabel,R=e.previousClassName,U=e.previousLinkClassName,Q=e.previousAriaLabel,M=e.prevRel,k=e.nextLabel,S=e.nextClassName,T=e.nextLinkClassName,B=e.nextAriaLabel,m=e.nextRel,L=this.state.selected,P=L===0,v=L===i-1,ee="".concat(E(R)).concat(P?" ".concat(E(d)):""),se="".concat(E(S)).concat(v?" ".concat(E(d)):""),_="".concat(E(U)).concat(P?" ".concat(E(n)):""),D="".concat(E(T)).concat(v?" ".concat(E(n)):""),te=P?"true":"false",pe=v?"true":"false";return g().createElement("ul",{className:u||b,role:"navigation","aria-label":"Pagination"},g().createElement("li",{className:ee},g().createElement("a",W({className:_,href:this.getElementHref(L-1),tabIndex:P?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":te,"aria-label":Q,rel:M},this.getEventListener(this.handlePreviousPage)),y)),this.pagination(),g().createElement("li",{className:se},g().createElement("a",W({className:D,href:this.getElementHref(L+1),tabIndex:v?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":pe,"aria-label":B,rel:m},this.getEventListener(this.handleNextPage)),k)))}}])&&oe(s.prototype,l),Object.defineProperty(s,"prototype",{writable:!1}),w})(c.Component);C(ne,"propTypes",{pageCount:t().number.isRequired,pageRangeDisplayed:t().number,marginPagesDisplayed:t().number,previousLabel:t().node,previousAriaLabel:t().string,prevPageRel:t().string,prevRel:t().string,nextLabel:t().node,nextAriaLabel:t().string,nextPageRel:t().string,nextRel:t().string,breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabels:t().shape({forward:t().string,backward:t().string}),hrefBuilder:t().func,hrefAllControls:t().bool,onPageChange:t().func,onPageActive:t().func,onClick:t().func,initialPage:t().number,forcePage:t().number,disableInitialCallback:t().bool,containerClassName:t().string,className:t().string,pageClassName:t().string,pageLinkClassName:t().string,pageLabelBuilder:t().func,activeClassName:t().string,activeLinkClassName:t().string,previousClassName:t().string,nextClassName:t().string,previousLinkClassName:t().string,nextLinkClassName:t().string,disabledClassName:t().string,disabledLinkClassName:t().string,breakClassName:t().string,breakLinkClassName:t().string,extraAriaContext:t().string,ariaLabelBuilder:t().func,eventListener:t().string,renderOnZeroPageCount:t().func,selectedPageRel:t().string}),C(ne,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(r){return r},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const ce=ne})(),O})()))})(re)),re.exports}var he=be();const ve=de(he);function Ae({activities:V}){const[J,Y]=ae.useState(""),[F,$]=ae.useState(0),h=5,O=ae.useMemo(()=>V.filter(o=>{const t=o.action||"",A=o.issued_by||"",I=o.issued_to||"";return t.toLowerCase().includes(J.toLowerCase())||A.toLowerCase().includes(J.toLowerCase())||I.toLowerCase().includes(J.toLowerCase())}),[V,J]),c=ae.useMemo(()=>{const o=F*h;return O.slice(o,o+h)},[O,F]),g=({selected:o})=>{$(o)};return f.jsxs(fe,{header:"System Activity Log",children:[f.jsx(ge,{title:"Activity Log"}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-6 text-gray-800",children:"All System Activities"}),f.jsx("div",{className:"mb-4",children:f.jsx("input",{type:"text",placeholder:"Search by Action, Issued By, or Issued To...",className:"w-full px-4 py-2 border border-gray-300 rounded-md",value:J,onChange:o=>Y(o.target.value)})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full table-auto border-collapse",children:[f.jsx("thead",{className:"bg-gray-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"ID"}),f.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Action"}),f.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Issued By"}),f.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Issued To"}),f.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-600",children:"Date"})]})}),f.jsx("tbody",{children:c.length>0?c.map((o,t)=>f.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[f.jsx("td",{className:"px-4 py-3 text-gray-700 font-semibold",children:o.id}),f.jsx("td",{className:"px-4 py-3 text-gray-700",children:o.action}),f.jsx("td",{className:"px-4 py-3 text-gray-700",children:o.issued_by??o.user??"System"}),f.jsx("td",{className:"px-4 py-3 text-gray-700",children:o.issued_to??"-"}),f.jsx("td",{className:"px-4 py-3 text-gray-500 text-sm",children:o.date})]},t)):f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-400",children:"No activity recorded yet."})})})]})}),O.length>h&&f.jsx("div",{className:"mt-4 flex justify-center",children:f.jsx(ve,{pageCount:Math.ceil(O.length/h),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:g,containerClassName:"pagination",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",className:"flex items-center space-x-2",pageClassName:"px-4 py-2 bg-gray-200 rounded-md cursor-pointer",activeClassName:"active bg-blue-500 text-white",disabledClassName:"text-gray-400 cursor-not-allowed"})})]})]})}export{Ae as default};
