import{a as Q,r as l,u as V,b as B,j as e,H as oe,c as Y}from"./app-D3NzBgRO.js";import{R as de}from"./RequesterLayout-qumhgnda.js";import"./sweetalert2.esm.all-Bj_ZQUAw.js";import{D as I,a as q,b as R,c as F,e as M}from"./dialog-CCQ3M8yy.js";import{B as g}from"./button-CdzcHS3X.js";import{c as J}from"./index-CbOhMk15.js";import{F as ue}from"./file-text-C4f0hJf9.js";import{C as xe}from"./clipboard-list-DZc_5k44.js";import{B as me}from"./building-2-DnUou85a.js";import{S as pe}from"./send-horizontal-CZpA39QG.js";import"./Dropdown-DIPhf4Q5.js";import"./transition-K1sFJhZS.js";import"./toaster-Dr1dFrOI.js";import"./index-CRtz_FGu.js";import"./index-CzZBlPTW.js";import"./XMarkIcon-B2PBuBOA.js";import"./BellAlertIcon-EVvYTPtN.js";import"./index-BURmFptD.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ge=J("user-plus",he);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ye=J("user",be);function fe({open:b,onClose:y,units:P,categories:o,onProductSaved:N,supplyCategories:i}){const{data:n,setData:c,post:k,processing:d,errors:a,reset:u}=V({name:"",specs:"",unit_id:"",custom_unit:"",category_id:"",default_price:"",supply_category_id:""}),[C,T]=l.useState(!1);l.useEffect(()=>{b||u()},[b]);const v=async s=>{s.preventDefault();try{const S={...n,unit:n.custom_unit&&n.custom_unit.trim()!==""?n.custom_unit:n.unit_id},x=(await Y.post(route("requester.store_product"),S)).data.product;x&&N(x),y()}catch(S){console.error("Error saving product:",S)}};return e.jsx(I,{open:b,onOpenChange:y,children:e.jsxs(q,{className:"max-w-2xl",children:[e.jsx(R,{children:e.jsx(F,{children:"Add New Item"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Item Name"}),e.jsx("input",{type:"text",value:n.name,onChange:s=>c("name",s.target.value),className:"w-full border rounded px-3 py-2"}),a.name&&e.jsx("p",{className:"text-red-600 text-sm",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Specifications"}),e.jsx("textarea",{value:n.specs,onChange:s=>c("specs",s.target.value),className:"w-full border rounded px-3 py-2",rows:3}),a.specs&&e.jsx("p",{className:"text-red-600 text-sm",children:a.specs})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium mb-1",children:"Unit"}),e.jsxs("select",{value:n.unit_id,onChange:s=>c("unit_id",s.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Select Unit --"}),P.map(s=>e.jsx("option",{value:s.id,children:s.unit},s.id))]}),a.unit_id&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:a.unit_id})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium mb-1",children:"Unit if not in database"}),e.jsx("input",{type:"text",value:n.custom_unit,onChange:s=>c("custom_unit",s.target.value),className:"w-full border rounded px-3 py-2",placeholder:"Enter custom unit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Product Type"}),e.jsxs("select",{value:n.category_id,onChange:s=>c("category_id",s.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Select Product Type --"}),o.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),a.category_id&&e.jsx("p",{className:"text-red-600 text-sm",children:a.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Supply Category"}),e.jsxs("select",{value:n.supply_category_id,onChange:s=>c("supply_category_id",s.target.value),className:"w-full border rounded px-3 py-2",children:[e.jsx("option",{value:"",children:"-- Select Product Type --"}),i.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),a.supply_category_id&&e.jsx("p",{className:"text-red-600 text-sm",children:a.supply_category_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Default Price (₱)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:n.default_price,onChange:s=>c("default_price",s.target.value),className:"w-full border rounded px-3 py-2"}),a.default_price&&e.jsx("p",{className:"text-red-600 text-sm",children:a.default_price})]}),e.jsxs(M,{className:"mt-4",children:[e.jsx(g,{type:"button",variant:"outline",onClick:y,children:"Cancel"}),e.jsx(g,{type:"button",disabled:d,onClick:v,children:d?"Saving...":"Save Product"})]})]})]})})}function je({products:b,handleProductSelect:y,setOpenProductModal:P}){const[o,N]=l.useState(""),[i,n]=l.useState(1),[c,k]=l.useState({}),d=10,a=l.useMemo(()=>b.filter(r=>`${r.name} ${r.specs}`.toLowerCase().includes(o.toLowerCase())),[o,b]),u=Math.ceil(a.length/d),C=l.useMemo(()=>{const r=(i-1)*d;return a.slice(r,r+d)},[a,i]),T=()=>n(r=>Math.max(r-1,1)),v=()=>n(r=>Math.min(r+1,u)),s=(r,x)=>{k(m=>({...m,[r]:x}))},S=r=>{const x=parseFloat(c[r]);isNaN(x)||B.put(route("requester.update_price",r),{default_price:x},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{k(m=>{const O={...m};return delete O[r],O})},onError:m=>{console.error(m)}})};return e.jsxs("div",{className:"flex flex-col md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Available Items"}),e.jsx("button",{type:"button",onClick:()=>P(!0),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg transition",children:"Add New Item"})]}),e.jsx("div",{className:"mb-4",children:e.jsx("input",{type:"text",value:o,onChange:r=>{N(r.target.value),n(1)},placeholder:"Search by item name or specifications...",className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:border-blue-400"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border border-gray-300 rounded-lg shadow",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 border",children:"Item"}),e.jsx("th",{className:"px-3 py-2 border",children:"Specifications"}),e.jsx("th",{className:"px-3 py-2 border",children:"Unit"}),e.jsx("th",{className:"px-3 py-2 border",children:"Default Price (₱)"}),e.jsx("th",{className:"px-3 py-2 border",children:"Actions"})]})}),e.jsx("tbody",{children:C.length>0?C.map(r=>{var x;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 border",children:r.name}),e.jsx("td",{className:"px-3 py-2 border",children:r.specs}),e.jsx("td",{className:"px-3 py-2 border",children:((x=r.unit)==null?void 0:x.unit)||"-"}),e.jsxs("td",{className:"px-3 py-2 border flex items-center gap-2",children:[e.jsx("input",{type:"number",step:"0.01",defaultValue:r.default_price,onChange:m=>s(r.id,m.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm text-center focus:ring-2 focus:ring-blue-500"}),c[r.id]!==void 0&&e.jsx("button",{type:"button",onClick:()=>S(r.id),className:"text-xs bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded transition",children:"Save"})]}),e.jsx("td",{className:"px-3 py-2 border text-center",children:e.jsx("button",{type:"button",onClick:()=>y(r.id),className:"bg-blue-500 hover:bg-blue-600 text-white w-8 h-8 rounded-full text-lg font-bold transition",title:"Add Product",children:"+"})})]},r.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-500",children:"No products match your search."})})})]})}),u>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:T,disabled:i===1,className:`px-3 py-1 rounded-md ${i===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",i," of ",u]}),e.jsx("button",{type:"button",onClick:v,disabled:i===u,className:`px-3 py-1 rounded-md ${i===u?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:"Next"})]})]})}function Ne({isOpen:b,onClose:y,onConfirm:P,product:o}){var n;const[N,i]=l.useState("");return!b||!o?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Add Item to PR"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Item:"})," ",o.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Specs:"})," ",o.specs]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Unit:"})," ",((n=o.unit)==null?void 0:n.unit)||"-"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Unit Price (₱):"})," ",Number(o.default_price).toFixed(2)]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),e.jsx("input",{type:"number",min:"1",step:"1",value:N,onChange:c=>i(c.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:y,className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>{N>0&&(P(N),i(""))},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Confirm"})]})]})})}function Qe({requestedBy:b,products:y,units:P,categories:o,supplyCategories:N}){const i=Q().props.auth.user,n=`${i.firstname} ${i.middlename??""} ${i.lastname}`.trim(),c=Q().props.pr_number,[k,d]=l.useState(!1),[a,u]=l.useState(null),{pr_number:C,latestPr:T}=Q().props,[v,s]=l.useState(C);console.log(C),console.log(v),console.log(c);const[S,r]=l.useState(!1);l.useEffect(()=>{w("pr_number",v)},[v]);const[x,m]=l.useState(!1),[O,X]=l.useState(null),Z=t=>{X(t),m(!0)},{data:p,setData:w,post:ve,processing:L,errors:f}=V({focal_person:i.id,pr_number:v||"",purpose:"",division_id:i.division.id,requested_by:b.name||"",products:[]}),[ee,$]=l.useState(!1),[te,z]=l.useState(!1),[H,we]=l.useState({title:"",text:"",success:!0}),[W,G]=l.useState(!1),se=t=>{t.preventDefault(),console.log("Form data before submit:",p),$(!0)},re=async()=>{G(!0);try{const t=await Y.post(route("requester.store"),p);t.data.success&&(localStorage.setItem("flashSuccess",t.data.message),localStorage.setItem("highlightPrId",t.data.highlightPrId),window.location.href=route("requester.manage_requests"))}catch(t){console.error(t)}finally{G(!1)}},ae=t=>{const j=y.find(h=>h.id===t);j&&(u(j),d(!0))},[le,D]=l.useState(!1),[K,E]=l.useState(null),[_,A]=l.useState(null),ne=t=>{const j=p.products.findIndex(h=>h.product_id===a.id);if(j!==-1)E(Number(t)),A(j),D(!0);else{const h={product_id:a.id,item:a.name,specs:a.specs,unit:a.unit.unit,unit_price:Number(a.default_price),total_item_price:Number(a.default_price*t),quantity:Number(t)};w("products",[...p.products,h]),d(!1),u(null)}};return l.useEffect(()=>{let t=setInterval(()=>{document.visibilityState==="visible"&&B.reload({only:["latestPr"],preserveScroll:!0,preserveState:!0,onSuccess:j=>{const h=j.props.latestPr;if(h){const U=h.slice(0,-3),ie=parseInt(h.slice(-3))+1,ce=U+ie.toString().padStart(3,"0");s(ce)}}})},5e3);return()=>clearInterval(t)},[]),e.jsxs(de,{header:"Schools Division Office - Ilagan | Create PR",children:[e.jsx(oe,{title:"Create PR"}),e.jsxs("div",{className:"mx-auto mt-6 bg-white p-8 shadow-xl rounded",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Create Purchase Request"}),e.jsxs("form",{onSubmit:se,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"focal_person",className:"text-sm font-medium text-gray-700 mb-2",children:"Focal Person"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"focal_person",type:"text",value:n,readOnly:!0,placeholder:"Auto-filled",className:"pl-10 pr-4 py-3 border border-gray-300 bg-gray-100 rounded-lg text-sm w-full"})]}),f.focal_person&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:f.focal_person})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"pr_number",className:"text-sm font-medium text-gray-700 mb-2",children:"PR Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"pr_number",type:"text",value:p.pr_number,onChange:t=>w("pr_number",t.target.value),placeholder:"Enter PR Number",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-full"})]}),e.jsx("div",{className:"flex flex-col items-center text-gray-400",children:e.jsx("small",{className:"text-xs italic text-red-500",children:"Note that the PR Number is AUTO GENERATED based on the last PR across the system"})}),f.pr_number&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:f.pr_number})]}),e.jsxs("div",{className:"flex flex-col md:col-span-2",children:[e.jsx("label",{htmlFor:"purpose",className:"text-sm font-medium text-gray-700 mb-2",children:"Purpose"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("textarea",{id:"purpose",value:p.purpose,onChange:t=>w("purpose",t.target.value),placeholder:"Describe the purpose of this request...",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm resize-y focus:ring-2 focus:ring-blue-500 w-full",rows:4})]}),f.purpose&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:f.purpose})]}),e.jsxs("div",{className:"flex flex-col md:col-span-2",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Selected Items"}),e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg shadow text-sm mb-4",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 border-b",children:"Item"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Specs"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Unit"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Unit Price (₱)"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Quantity"}),e.jsx("th",{className:"px-4 py-2 border-b",children:"Actions"})]})}),e.jsx("tbody",{children:p.products.length>0?p.products.map((t,j)=>{var h;return e.jsxs("tr",{className:"text-gray-800",children:[e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.item}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.specs}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:(h=t.unit)==null?void 0:h.unit}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:Number(t.unit_price).toFixed(2)}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:t.quantity}),e.jsx("td",{className:"px-4 py-2 border-b text-center",children:e.jsx("button",{type:"button",onClick:()=>{const U=[...p.products];U.splice(j,1),w("products",U)},className:"text-red-600 hover:underline text-sm",children:"Remove"})})]},j)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center text-gray-500 py-4",children:"No Items added yet."})})})]})]}),e.jsx(Ne,{isOpen:k,onClose:()=>d(!1),onConfirm:ne,product:a}),e.jsx(fe,{open:S,onClose:()=>r(!1),units:P,categories:o,onProductSaved:Z,supplyCategories:N}),e.jsx(je,{products:y,handleProductSelect:ae,setOpenProductModal:r}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"division",className:"text-sm font-medium text-gray-700 mb-2",children:"Division"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"division",type:"text",value:i.division.division,onChange:t=>w("division_id",t.target.value),placeholder:"Auto-filled division",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-full"})]}),f.division_id&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:f.division_id})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{htmlFor:"requested_by",className:"text-sm font-medium text-gray-700 mb-2",children:"Requested By"}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute top-3 left-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"requested_by",type:"text",value:p.requested_by,onChange:t=>w("requested_by",t.target.value),placeholder:"Enter requestor's name",className:"pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-full"})]}),f.requested_by&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:f.requested_by})]}),e.jsxs("div",{className:"md:col-span-2 flex justify-end mt-4 gap-5",children:[e.jsx(g,{type:"button",onClick:()=>window.history.back(),className:"bg-red-600 hover:bg-red-400 text-white font-medium px-6 py-3 rounded-lg text-base transition-all duration-200",children:"Cancel"}),e.jsx(g,{type:"submit",disabled:L,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-8 py-3 rounded-lg text-base transition-all duration-200 flex items-center gap-2 disabled:opacity-50",children:L?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Creating..."]}):e.jsxs(e.Fragment,{children:["Proceed",e.jsx(pe,{className:"h-5 w-5"})]})})]})]})]}),e.jsx(I,{open:x,onOpenChange:m,children:e.jsxs(q,{className:"max-w-md",children:[e.jsx(R,{children:e.jsx(F,{className:"text-green-600",children:"Item saved!"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Do you want to add this item to your PR?"}),e.jsxs(M,{className:"mt-4 flex justify-end gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>{m(!1),B.reload({only:["products"]})},children:"No, just save"}),e.jsx(g,{onClick:()=>{m(!1),u(O),d(!0)},children:"Yes, add it"})]})]})}),e.jsx(I,{open:ee,onOpenChange:$,children:e.jsxs(q,{className:"max-w-md",children:[e.jsx(R,{children:e.jsx(F,{children:"Are you sure?"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Do you want to proceed with creating this Purchase Request?"}),e.jsxs(M,{className:"mt-4 flex justify-end gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),e.jsx(g,{onClick:re,disabled:W,className:"bg-green-600 hover:bg-green-700",children:W?"Submitting...":"Confirm"})]})]})}),e.jsx(I,{open:te,onOpenChange:z,children:e.jsxs(q,{className:"max-w-md",children:[e.jsx(R,{children:e.jsx(F,{className:H.success?"text-green-600":"text-red-600",children:H.title})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:H.text}),e.jsx(M,{className:"mt-4 flex justify-end",children:e.jsx(g,{onClick:()=>z(!1),children:"OK"})})]})}),e.jsx(I,{open:le,onOpenChange:D,children:e.jsxs(q,{className:"max-w-lg",children:[e.jsx(R,{children:e.jsx(F,{className:"text-yellow-600",children:"Item already added"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This item is already in your PR. What would you like to do?"}),e.jsxs(M,{className:"mt-4 flex justify-end gap-3",children:[e.jsx(g,{variant:"outline",onClick:()=>{D(!1),E(null),A(null)},children:"❌ Cancel"}),e.jsx(g,{onClick:()=>{const t=[...p.products];t[_].quantity+=K,t[_].total_item_price=t[_].quantity*t[_].unit_price,w("products",t),D(!1),E(null),A(null),d(!1),u(null)},children:"➕ Increase Quantity"}),e.jsx(g,{onClick:()=>{const t=[...p.products];t[_].quantity=K,t[_].total_item_price=t[_].quantity*t[_].unit_price,w("products",t),D(!1),E(null),A(null),d(!1),u(null)},children:"🔄 Replace Quantity"})]})]})})]})}export{Qe as default};
